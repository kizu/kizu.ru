<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>kizu.ru</title>
  <link href="http://kizu.ru/en/feed.xml" rel="self"/>
  <link href="http://kizu.ru/en/"/>
  <updated>2016-10-21T00:00:00+03:00</updated>
  <id>http://kizu.ru/en/</id>
  <author>
    <name>Roman Komarov</name>
    <email>kizmarh@ya.ru</email>
  </author>
  <entry>
    <title>Conditions for CSS Variables</title>
    <link href="http://kizu.ru/en/fun/conditions-for-css-variables/"/>
    <updated>2016-10-21T00:00:00+03:00</updated>
    <id>http://kizu.ru/en/fun/conditions-for-css-variables</id>
    <content type="html">&lt;h1 id=&quot;conditions-for-css-variables&quot;&gt;Conditions forÂ &lt;abbr&gt;CSS&lt;/abbr&gt; Variables&lt;/h1&gt;
&lt;p&gt;I&amp;#39;ll start from this: &lt;span class=&quot;Sidenote-Wrapper&quot;&gt;&lt;a class=&quot;Sidenote-Context&quot; href=&quot;#not-those&quot; id=&quot;not-those&quot;&gt;there are no&lt;/a&gt;&lt;span class=&quot;Sidenote&quot; role=&quot;note&quot;&gt;&lt;span class=&quot;Sidenote-Misc&quot;&gt; (&lt;/span&gt;There isÂ aÂ module named â€œ&lt;a href=&quot;https://www.w3.org/TR/css3-conditional/&quot;&gt;&lt;abbr&gt;CSS&lt;/abbr&gt; Conditional Rules&lt;/a&gt;â€, but don&amp;#39;t expect itÂ toÂ cover theÂ &lt;abbr&gt;CSS&lt;/abbr&gt; &lt;nobr&gt;variablesâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;itÂ covers some &lt;nobr&gt;at-rules&lt;/nobr&gt; stuff. There isÂ even aÂ &lt;a href=&quot;https://tabatkins.github.io/specs/css-when-else/&quot;&gt;proposal&lt;/a&gt; forÂ &lt;code&gt;@when&lt;/code&gt;/&lt;code&gt;@else&lt;/code&gt; &lt;nobr&gt;at-rules&lt;/nobr&gt;, which, again, doÂ not anything inÂ common with variables.&lt;span class=&quot;Sidenote-Misc&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;a class=&quot;Sidenote-Close&quot; href=&quot;#x&quot; aria-hidden=&quot;true&quot; role=&quot;presentation&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;/span&gt; conditions inÂ specs toÂ use with &lt;a href=&quot;https://www.w3.org/TR/css-variables-1/&quot;&gt;&lt;abbr&gt;CSS&lt;/abbr&gt; variables&lt;/a&gt;. IÂ think that this isÂ aÂ really big flow inÂ specs, asÂ while variables already provide aÂ lot ofÂ things that were not possible inÂ any other way before, theÂ absence ofÂ conditions isÂ really frustrating, asÂ there could beÂ aÂ lot ofÂ uses forÂ them.&lt;/p&gt;
&lt;p&gt;But what ifÂ we&amp;#39;d need those imaginary conditional statements forÂ our &lt;abbr&gt;CSS&lt;/abbr&gt; variables &lt;em&gt;now&lt;/em&gt;? Well, asÂ with aÂ lot ofÂ other &lt;abbr&gt;CSS&lt;/abbr&gt; stuff, weÂ can hack our way around forÂ same cases.&lt;/p&gt;
&lt;h2 id=&quot;the-problem-39-s-definition&quot;&gt;TheÂ Problem&amp;#39;s Definition&lt;/h2&gt;
&lt;p&gt;So, what weÂ need isÂ aÂ way toÂ use aÂ single &lt;abbr&gt;CSS&lt;/abbr&gt; variable forÂ setting different &lt;abbr&gt;CSS&lt;/abbr&gt; properties toÂ &lt;em&gt;different&lt;/em&gt; values, but not based directly onÂ this variable (that &lt;nobr&gt;isâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;those values shouldn&amp;#39;t beÂ &lt;em&gt;calculated&lt;/em&gt; from our variable). WeÂ need &lt;strong&gt;conditions&lt;/strong&gt;.&lt;/p&gt;
&lt;h2 id=&quot;using-calculations-for-binary-conditions&quot;&gt;Using Calculations forÂ Binary Conditions&lt;/h2&gt;
&lt;p&gt;Long story short, I&amp;#39;ll just present theÂ solution toÂ you right now andÂ would explain itÂ later:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;:root {
    --is-big: 0;
}

.is-big {
    --is-big: 1;
}

.block {
    padding: calc(
        25px * var(--is-big) +
        10px * (1 - var(--is-big))
    );
    border-width: calc(
        3px * var(--is-big) +
        1px * (1 - var(--is-big))
    );
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;InÂ this example, we&amp;#39;re making all our elements with &lt;code&gt;.block&lt;/code&gt; toÂ have paddings equal toÂ &lt;code&gt;10px&lt;/code&gt; andÂ border widths toÂ &lt;code&gt;1px&lt;/code&gt; unless theÂ &lt;code&gt;--is-big&lt;/code&gt; variable onÂ those elements won&amp;#39;t beÂ &lt;code&gt;1&lt;/code&gt;, inÂ which case they would become &lt;code&gt;25px&lt;/code&gt; andÂ &lt;code&gt;3px&lt;/code&gt; respectively.&lt;/p&gt;
&lt;p&gt;TheÂ mechanism beyond this isÂ rather simple: weÂ use both our possible values inÂ aÂ single calculation using &lt;code&gt;calc()&lt;/code&gt;, where weÂ nullify one andÂ keep another value based onÂ theÂ variable&amp;#39;s value which can beÂ either &lt;code&gt;1&lt;/code&gt; orÂ &lt;code&gt;0&lt;/code&gt;. InÂ other words, we&amp;#39;ll have &lt;code&gt;25px * 1 + 10px * 0&lt;/code&gt; inÂ one case andÂ &lt;code&gt;25px * 0 + 10px * 1&lt;/code&gt; inÂ another.&lt;/p&gt;
&lt;h2 id=&quot;more-complex-conditions&quot;&gt;More complex conditions&lt;/h2&gt;
&lt;p&gt;WeÂ can use this method toÂ choose not only from 2 possible values but forÂ choosing from 3 orÂ more values. However, forÂ each new added possible value theÂ calculation becomes more complex. ForÂ choosing between 3 possible values itÂ would already look like this:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;.block {
    padding: calc(
        100px * (1 - var(--foo)) * (2 - var(--foo)) * 0.5 +
         20px * var(--foo) * (2 - var(--foo)) +
          3px * var(--foo) * (1 - var(--foo)) * -0.5
    );
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This could accept &lt;code&gt;0&lt;/code&gt;, &lt;code&gt;1&lt;/code&gt; andÂ &lt;code&gt;2&lt;/code&gt; values forÂ &lt;code&gt;--foo&lt;/code&gt; variable andÂ calculate theÂ padding toÂ &lt;code&gt;100px&lt;/code&gt;, &lt;code&gt;20px&lt;/code&gt; orÂ &lt;code&gt;3px&lt;/code&gt; correspondingly.&lt;/p&gt;
&lt;p&gt;TheÂ principle isÂ theÂ same: weÂ just need toÂ multiply each possible value toÂ anÂ expression that would beÂ equal toÂ &lt;code&gt;1&lt;/code&gt; when theÂ condition forÂ this value isÂ theÂ one weÂ need andÂ toÂ &lt;code&gt;0&lt;/code&gt; inÂ other cases. AndÂ this expression can beÂ composed rather easily: weÂ just need toÂ nullify each other possible value ofÂ our conditional variable. After doing this we&amp;#39;d need toÂ add our triggering value there toÂ see ifÂ we&amp;#39;d need toÂ adjust theÂ result soÂ itÂ would beÂ equal toÂ 1. AndÂ that&amp;#39;s it.&lt;/p&gt;
&lt;h3 id=&quot;a-possible-trap-in-the-specs&quot;&gt;AÂ Possible Trap inÂ theÂ Specs&lt;/h3&gt;
&lt;p&gt;With theÂ increasing complexity ofÂ such calculations, there isÂ aÂ chance atÂ one point they would stop from working. Why? There isÂ this note inÂ &lt;a href=&quot;https://drafts.csswg.org/css-values-3/#calc-syntax&quot;&gt;specs&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;UAs must support calc() expressions ofÂ atÂ least 20 terms, where each &lt;abbr&gt;NUMBER&lt;/abbr&gt;, &lt;abbr&gt;DIMENSION&lt;/abbr&gt;, orÂ &lt;abbr&gt;PERCENTAGE&lt;/abbr&gt; isÂ aÂ term. IfÂ aÂ calc() expression contains more than theÂ supported number ofÂ terms, itÂ must beÂ treated asÂ ifÂ itÂ were invalid.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;OfÂ course, IÂ tested this aÂ bit andÂ couldn&amp;#39;t found such limitations inÂ theÂ browsers IÂ tested, but there isÂ still aÂ chance either you would write some really complex code that would meet theÂ possible existing limit, orÂ some ofÂ theÂ browsers could introduce this limit inÂ theÂ future, soÂ beÂ careful when using really complex calculations.&lt;/p&gt;
&lt;h2 id=&quot;conditions-for-colors&quot;&gt;Conditions forÂ Colors&lt;/h2&gt;
&lt;p&gt;AsÂ you can see, those calculations could beÂ used only forÂ things that you can &lt;em&gt;calculate&lt;/em&gt;, soÂ there isÂ noÂ chance weÂ could use itÂ forÂ switching theÂ values ofÂ &lt;code&gt;display&lt;/code&gt; property orÂ any other non-numeric ones. But what about colors? Actually, weÂ can calculate theÂ individual components ofÂ theÂ colors. Sadly, right now itÂ would work only inÂ Webkits andÂ Blinks, asÂ &lt;a href=&quot;https://bugzilla.mozilla.org/show_bug.cgi?id=984021&quot; title=&quot;Bugzilla ticket&quot;&gt;Firefox don&amp;#39;t yet support&lt;/a&gt; &lt;code&gt;calc()&lt;/code&gt; inside &lt;code&gt;rgba()&lt;/code&gt; andÂ other color functions.&lt;/p&gt;
&lt;p&gt;But when theÂ support would beÂ there (orÂ ifÂ you&amp;#39;d like toÂ experiment onÂ this inÂ browsers with anÂ existing support), weÂ could doÂ things like that:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;:root {
    --is-red: 0;
}

.block {
    background: rgba(
        calc(
            255*var(--is-red) +
            0*(1 - var(--is-red))
            ),
        calc(
            0*var(--is-red) +
            255*(1 - var(--is-red))
            ),
        0, 1);
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Here we&amp;#39;d have lime color byÂ default andÂ red ifÂ theÂ &lt;code&gt;--is-red&lt;/code&gt; would beÂ set toÂ &lt;code&gt;1&lt;/code&gt; (note that when theÂ component could beÂ zero weÂ could just omit itÂ atÂ all, making out code more compact, here IÂ kept those forÂ clarity ofÂ anÂ algorithm).&lt;/p&gt;
&lt;p&gt;AsÂ you could doÂ those calculations with any components, itÂ isÂ possible toÂ create those conditions forÂ any colors (andÂ maybe even forÂ gradients? You should try it!).&lt;/p&gt;
&lt;h3 id=&quot;another-trap-in-the-specs&quot;&gt;Another Trap inÂ theÂ Specs&lt;/h3&gt;
&lt;p&gt;When IÂ was testing how theÂ conditions work forÂ colors, IÂ found out aÂ really, &lt;em&gt;really&lt;/em&gt; weird limitation inÂ Specs. ItÂ isÂ called &lt;a href=&quot;https://twitter.com/kizmarh/status/788504161864261632&quot;&gt;â€œType Checkingâ€&lt;/a&gt;. IÂ now officially hate it. What this means isÂ that ifÂ theÂ property accepts only &lt;code&gt;&amp;lt;integer&amp;gt;&lt;/code&gt; asÂ aÂ value, ifÂ you&amp;#39;d have any divisions orÂ non-integers inside theÂ &lt;code&gt;calc()&lt;/code&gt; forÂ it, even ifÂ theÂ result would beÂ integer, theÂ â€œresolved typeâ€ wouldn&amp;#39;t beÂ &lt;code&gt;&amp;lt;integer&amp;gt;&lt;/code&gt;, itÂ would beÂ &lt;code&gt;&amp;lt;number&amp;gt;&lt;/code&gt;, andÂ that means that those properties won&amp;#39;t accept such values. AndÂ when we&amp;#39;d have calculations involving more than two possible values, we&amp;#39;d need toÂ have aÂ non-integer modifiers. AndÂ that would make our calculation invalid forÂ using with colors orÂ other integer-only properties (like &lt;code&gt;z-index&lt;/code&gt;).&lt;/p&gt;
&lt;p&gt;That is:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;calc(255 * (1 - var(--bar)) * (var(--bar) - 2) * -0.5)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Would beÂ invalid when inside ofÂ theÂ &lt;code&gt;rgba()&lt;/code&gt;. Initially IÂ thought that this behaviour isÂ aÂ bug, especially knowing how theÂ color functions can actually accept theÂ values that goÂ beyond theÂ possible ranges (you can doÂ &lt;code&gt;rgba(9001, +9001, -9001, 42)&lt;/code&gt; andÂ get aÂ valid yellow color), but this typing thing seems toÂ beÂ too hard forÂ browsers toÂ handle.&lt;/p&gt;
&lt;h4 id=&quot;solutions-&quot;&gt;Solutions?&lt;/h4&gt;
&lt;p&gt;There isÂ one far from perfect solution. AsÂ inÂ our case weÂ know both theÂ desired value andÂ the problematic modifier, weÂ can pre-calculate them andÂ then round itÂ up. Yep, that means that theÂ resulting value could beÂ not exactly theÂ same, asÂ weÂ would lose some precision inÂ some cases. But itÂ isÂ better than nothing, right?&lt;/p&gt;
&lt;p&gt;But there isÂ another solution that would work forÂ &lt;nobr&gt;colorsâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;weÂ can use &lt;code&gt;hsla&lt;/code&gt; instead ofÂ &lt;code&gt;rgba&lt;/code&gt;, asÂ itÂ accepts not integers, but numbers andÂ percentages, soÂ there won&amp;#39;t beÂ aÂ conflict inÂ type resolving. But forÂ other properties like &lt;code&gt;z-index&lt;/code&gt; that solution won&amp;#39;t work. But even with this method there still could beÂ some losses inÂ precision ifÂ you&amp;#39;re going toÂ convert &lt;code&gt;rgb&lt;/code&gt; toÂ &lt;code&gt;hsl&lt;/code&gt;. But those should beÂ less than inÂ previous solution.&lt;/p&gt;
&lt;h2 id=&quot;preprocessing&quot;&gt;Preprocessing&lt;/h2&gt;
&lt;p&gt;When theÂ conditions are binary itÂ isÂ still possible toÂ write them byÂ hand. But when we&amp;#39;re starting toÂ use more complex conditions, orÂ when we&amp;#39;re getting toÂ theÂ colors, we&amp;#39;d better have tools that could make itÂ easier toÂ write. Luckily, weÂ have preprocessors forÂ this purpose.&lt;/p&gt;
&lt;p&gt;Here isÂ how IÂ managed toÂ quickly doÂ itÂ inÂ &lt;span class=&quot;Sidenote-Wrapper&quot;&gt;&lt;a class=&quot;Sidenote-Context&quot; href=&quot;#pen&quot; id=&quot;pen&quot;&gt;Stylus&lt;/a&gt;&lt;span class=&quot;Sidenote&quot; role=&quot;note&quot;&gt;&lt;span class=&quot;Sidenote-Misc&quot;&gt; (&lt;/span&gt;You can look atÂ &lt;a href=&quot;http://codepen.io/kizu/pen/zKmyvG&quot;&gt;CodePen with this code&lt;/a&gt; inÂ action.&lt;span class=&quot;Sidenote-Misc&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;a class=&quot;Sidenote-Close&quot; href=&quot;#x&quot; aria-hidden=&quot;true&quot; role=&quot;presentation&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-styl&quot;&gt;conditional($var, $values...)
  $result = &amp;#39;&amp;#39;

  // If there is only an array passed, use its contents
  if length($values) == 1
    $values = $values[0]

  // Validating the values and check if we need to do anything at all
  $type = null
  $equal = true

  for $value, $i in $values
    if $i &amp;gt; 0 and $value != $values[0]
      $equal = false

    $value_type = typeof($value)
    $type = $type || $value_type
    if !($type == &amp;#39;unit&amp;#39; or $type == &amp;#39;rgba&amp;#39;)
      error(&amp;#39;Conditional function can accept only numbers or colors&amp;#39;)

    if $type != $value_type
      error(&amp;#39;Conditional function can accept only same type values&amp;#39;)

  // If all the values are equal, just return one of them
  if $equal
    return $values[0]

  // Handling numbers
  if $type == &amp;#39;unit&amp;#39;
    $result = &amp;#39;calc(&amp;#39;
    $i_count = 0
    for $value, $i in $values
      $multiplier = &amp;#39;&amp;#39;
      $modifier = 1
      $j_count = 0
      for $j in 0..(length($values) - 1)
        if $j != $i
          $j_count = $j_count + 1
          // We could use just the general multiplier,
          // but for 0 and 1 we can simplify it a bit.
          if $j == 0
            $modifier = $modifier * $i
            $multiplier = $multiplier + $var
          else if $j == 1
            $modifier = $modifier * ($j - $i)
            $multiplier = $multiplier + &amp;#39;(1 - &amp;#39; + $var + &amp;#39;)&amp;#39;
          else
            $modifier = $modifier * ($i - $j)
            $multiplier = $multiplier + &amp;#39;(&amp;#39; + $var + &amp;#39; - &amp;#39; + $j + &amp;#39;)&amp;#39;

          if $j_count &amp;lt; length($values) - 1
            $multiplier = $multiplier + &amp;#39; * &amp;#39;

      // If value is zero, just don&amp;#39;t add it there lol
      if $value != 0
        if $modifier != 1
          $multiplier = $multiplier + &amp;#39; * &amp;#39; + (1 / $modifier)
        $result = $result + ($i_count &amp;gt; 0 ? &amp;#39; + &amp;#39; : &amp;#39;&amp;#39;) + $value + &amp;#39; * &amp;#39; + $multiplier
        $i_count = $i_count + 1

    $result = $result + &amp;#39;)&amp;#39;

  // Handling colors
  if $type == &amp;#39;rgba&amp;#39;
    $hues = ()
    $saturations = ()
    $lightnesses = ()
    $alphas = ()

    for $value in $values
      push($hues, unit(hue($value), &amp;#39;&amp;#39;))
      push($saturations, saturation($value))
      push($lightnesses, lightness($value))
      push($alphas, alpha($value))

    $result = &amp;#39;hsla(&amp;#39; + conditional($var, $hues) + &amp;#39;, &amp;#39; + conditional($var, $saturations) + &amp;#39;, &amp;#39; + conditional($var, $lightnesses) + &amp;#39;, &amp;#39; + conditional($var, $alphas) +  &amp;#39;)&amp;#39;

  return unquote($result)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Yep, there isÂ aÂ lot ofÂ code, but this mixin can generate conditionals both forÂ numbers andÂ colors, andÂ not only forÂ two possible conditions but forÂ many more.&lt;/p&gt;
&lt;p&gt;TheÂ usage isÂ really easy:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-styl&quot;&gt;border-width: conditional(var(--foo), 10px, 20px)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;TheÂ first argument isÂ our variable, theÂ second one isÂ theÂ value that should beÂ applied when theÂ variable would beÂ equal toÂ &lt;code&gt;0&lt;/code&gt;, theÂ &lt;nobr&gt;thirdâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;when itÂ would beÂ equal toÂ &lt;code&gt;1&lt;/code&gt;, etc.&lt;/p&gt;
&lt;p&gt;This above call would generate proper conditional:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;border-width: calc(10px * (1 - var(--foo)) + 20px * var(--foo));
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;AndÂ here isÂ aÂ more complex example forÂ the color conditionals:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-styl&quot;&gt;color: conditional(var(--bar), red, lime, rebeccapurple, orange)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Would generate something that you surely wouldn&amp;#39;t want toÂ write byÂ hand:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;color: hsla(calc(120 * var(--bar) * (var(--bar) - 2) * (var(--bar) - 3) * 0.5 + 270 * var(--bar) * (1 - var(--bar)) * (var(--bar) - 3) * 0.5 + 38.82352941176471 * var(--bar) * (1 - var(--bar)) * (var(--bar) - 2) * -0.16666666666666666), calc(100% * (1 - var(--bar)) * (var(--bar) - 2) * (var(--bar) - 3) * 0.16666666666666666 + 100% * var(--bar) * (var(--bar) - 2) * (var(--bar) - 3) * 0.5 + 49.99999999999999% * var(--bar) * (1 - var(--bar)) * (var(--bar) - 3) * 0.5 + 100% * var(--bar) * (1 - var(--bar)) * (var(--bar) - 2) * -0.16666666666666666), calc(50% * (1 - var(--bar)) * (var(--bar) - 2) * (var(--bar) - 3) * 0.16666666666666666 + 50% * var(--bar) * (var(--bar) - 2) * (var(--bar) - 3) * 0.5 + 40% * var(--bar) * (1 - var(--bar)) * (var(--bar) - 3) * 0.5 + 50% * var(--bar) * (1 - var(--bar)) * (var(--bar) - 2) * -0.16666666666666666), 1);
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note that there isÂ noÂ detection ofÂ &lt;code&gt;&amp;lt;integer&amp;gt;&lt;/code&gt;-accepting properties, soÂ that won&amp;#39;t work forÂ &lt;code&gt;z-index&lt;/code&gt; andÂ such, but itÂ already converts colors toÂ &lt;code&gt;hsla()&lt;/code&gt; toÂ make them manageble (though even this could beÂ enhanced soÂ this convertation would happen only when itÂ would beÂ needed). Another thing IÂ didn&amp;#39;t implement inÂ this mixin (yet?) isÂ theÂ ability toÂ use &lt;abbr&gt;CSS&lt;/abbr&gt; variables forÂ the values. This would beÂ possible forÂ non-integer numbers asÂ those values would beÂ inserted asÂ isÂ inÂ theÂ conditional calculations. Maybe, when I&amp;#39;ll find time, I&amp;#39;ll fix theÂ mixin toÂ accept not only numbers orÂ colors but also variables. ForÂ the time being itÂ isÂ still possible toÂ doÂ using theÂ algorithm explained inÂ this article.&lt;/p&gt;
&lt;h2 id=&quot;fallbacks&quot;&gt;Fallbacks&lt;/h2&gt;
&lt;p&gt;OfÂ course, ifÂ you&amp;#39;re planning toÂ actually use this, you&amp;#39;ll need toÂ have aÂ way toÂ set fallbacks. They&amp;#39;re easy forÂ browsers that just don&amp;#39;t support variables: you just declare theÂ fallback value before theÂ conditional declaration:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;.block {
    padding: 100px; /* fallback */
    padding: calc(
        100px * ((1 - var(--foo)) * (2 - var(--foo)) / 2) +
         20px * (var(--foo) * (2 - var(--foo))) +
          3px * (var(--foo) * (1 - var(--foo)) / -2)
    );
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;But when itÂ comes toÂ colors weÂ have aÂ problem: when there isÂ aÂ support forÂ variables, inÂ fact (andÂ that&amp;#39;s another really weird place inÂ specs), &lt;em&gt;just any&lt;/em&gt; declaration containing variables would beÂ considered valid. AndÂ this means that itÂ isÂ not possible inÂ &lt;abbr&gt;CSS&lt;/abbr&gt; toÂ make aÂ fallback forÂ something containing variables:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;background: blue;
background: I ğŸ’© CSS VAR(--I)ABLES;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;IsÂ valid &lt;abbr&gt;CSS&lt;/abbr&gt; andÂ per specs, theÂ background would get anÂ &lt;code&gt;initial&lt;/code&gt; value, not theÂ one provided inÂ aÂ fallback (even though itÂ isÂ obvious that theÂ other parts ofÂ theÂ value are incorrect).&lt;/p&gt;
&lt;p&gt;So, what weÂ need inÂ order toÂ provide aÂ fallback inÂ those &lt;nobr&gt;casesâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;add &lt;code&gt;@support&lt;/code&gt; wrapper that would test theÂ support forÂ everything &lt;strong&gt;except&lt;/strong&gt; forÂ the variables.&lt;/p&gt;
&lt;p&gt;InÂ our case, weÂ need toÂ wrap our conditional colors forÂ Firefox inÂ something like this:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;.block {
    color: #f00;
}
@supports (color: rgb(0, calc(0), 0)) {
    .block {
        color: rgba(calc(255 * (1 - var(--foo))), calc(255 * var(--foo)), 0, 1);
  }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Here we&amp;#39;re testing aÂ support forÂ calculations inside color functions andÂ applying theÂ conditional color only inÂ that case.&lt;/p&gt;
&lt;p&gt;ItÂ isÂ also possible toÂ create such fallbacks automatically, but IÂ won&amp;#39;t recommend you toÂ use preprocessors forÂ them asÂ theÂ complexity ofÂ creating such stuff isÂ much more than theÂ capabilities preprocessors provide.&lt;/p&gt;
&lt;h2 id=&quot;use-cases&quot;&gt;Use cases&lt;/h2&gt;
&lt;p&gt;IÂ really don&amp;#39;t like toÂ provide use cases forÂ the things theÂ need forÂ which isÂ obvious. SoÂ I&amp;#39;ll beÂ brief. AndÂ I&amp;#39;ll state not only theÂ conditions forÂ variables, but also theÂ general conditions, like forÂ the result ofÂ &lt;code&gt;calc()&lt;/code&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;TheÂ conditions forÂ &lt;abbr&gt;CSS&lt;/abbr&gt; variables would beÂ perfect forÂ themifying blocks. This way you could have aÂ number ofÂ numbered themes andÂ then apply them toÂ blocks (andÂ nested ones!) using just one &lt;abbr&gt;CSS&lt;/abbr&gt; variable like &lt;code&gt;--block-variant: 1&lt;/code&gt;. This isÂ not something that isÂ possible through any other means other than variables andÂ when you&amp;#39;d want toÂ have different values forÂ different props inÂ different themes, without theÂ conditionals you&amp;#39;d need toÂ have many different variables andÂ apply all ofÂ them inÂ every case.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Typography. IfÂ itÂ was possible toÂ use theÂ &lt;code&gt;&amp;lt;&lt;/code&gt;, &lt;code&gt;&amp;lt;=&lt;/code&gt;, &lt;code&gt;&amp;gt;&lt;/code&gt; andÂ &lt;code&gt;&amp;gt;=&lt;/code&gt; inÂ conditions forÂ variables, itÂ would beÂ possible toÂ have aÂ number ofÂ â€œrulesâ€ forÂ different font sizes, soÂ you could set different line heights, font weights andÂ other properties based onÂ theÂ given font-size. This isÂ possible now, but now when you need toÂ have some â€œstopsâ€ forÂ those valuea andÂ not just theÂ values derived from &lt;code&gt;em&lt;/code&gt;s.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Responsive design. Well, ifÂ there were theÂ conditions forÂ calculations, then itÂ would beÂ almost theÂ same asÂ those elusive â€œelement queriesâ€&lt;nobr&gt;â€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;you could check theÂ &lt;code&gt;vw&lt;/code&gt; orÂ theÂ parent&amp;#39;s widths inÂ percents andÂ decide what toÂ apply inÂ different cases.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;There can beÂ other use cases, tell meÂ ifÂ you&amp;#39;d find one! I&amp;#39;m sure IÂ had more ofÂ them myself, but IÂ don&amp;#39;t have that good ofÂ aÂ memory toÂ remember all theÂ things IÂ ever wanted toÂ doÂ with &lt;abbr&gt;CSS&lt;/abbr&gt;. Because its all theÂ things.&lt;/p&gt;
&lt;h2 id=&quot;future&quot;&gt;Future&lt;/h2&gt;
&lt;p&gt;IÂ would really like toÂ see conditions described inÂ &lt;abbr&gt;CSS&lt;/abbr&gt; specs, soÂ weÂ would not rely onÂ calc hacks andÂ could use proper conditions forÂ non-calculatable values too. ItÂ isÂ also impossible right now toÂ have conditions other than strict equality, soÂ noÂ â€œwhen theÂ variable isÂ more than Xâ€ andÂ other stuff like that. IÂ don&amp;#39;t see any reasons why weÂ can&amp;#39;t have proper conditions inÂ &lt;abbr&gt;CSS&lt;/abbr&gt;, soÂ ifÂ you know aÂ fellow spec developer, hint them about this issue. MyÂ only hope isÂ that they won&amp;#39;t tell usÂ toÂ â€œjust use JSâ€ orÂ find out excuses ofÂ why that wouldn&amp;#39;t ever beÂ possible. Here, itÂ isÂ already possible now using theÂ hacks, there can&amp;#39;t beÂ any excuses.&lt;/p&gt;

    </content>
  </entry>
  <entry>
    <title>Styling inline code</title>
    <link href="http://kizu.ru/en/blog/styling-inline-code/"/>
    <updated>2016-09-08T00:00:00+03:00</updated>
    <id>http://kizu.ru/en/blog/styling-inline-code</id>
    <content type="html">&lt;h1 id=&quot;styling-inline-code&quot;&gt;Styling inline code&lt;/h1&gt;
&lt;p&gt;When IÂ was working onÂ &lt;a href=&quot;/en/blog/the-new-version-of-this-site/&quot;&gt;myÂ site&amp;#39;s new version&lt;/a&gt;, IÂ tried toÂ think more about how everything should look andÂ read typography-wise. AndÂ one ofÂ theÂ things IÂ always had problems with was how toÂ style inline code blocks. Most ofÂ theÂ time weÂ can see small colorful rectangles inÂ place ofÂ them. AndÂ the more you put those things inside your text, theÂ worse theÂ reading experience becomes.&lt;/p&gt;
&lt;figure class=&quot;Sidenote-Wrapper&quot;&gt;&lt;figcaption class=&quot;Sidenote&quot;&gt;This example isÂ taken from aÂ &lt;a href=&quot;https://en.wikipedia.org/wiki/Cascading_Style_Sheets#Selector&quot;&gt;Wikipedia article onÂ &lt;abbr&gt;CSS&lt;/abbr&gt;&lt;/a&gt;. Look atÂ all those colorful rectangles. Also, note how some ofÂ theÂ things that could beÂ inline code blocks are not marked asÂ such asÂ they surely would introduce even more visual clutter.&lt;/figcaption&gt;&lt;img class=&quot;Sidenote-Context&quot; src=&quot;http://kizu.ru/en/blog/styling-inline-code/example.png&quot; title=&quot;&quot; alt=&quot;Screenshot from Wikipedia&quot;&gt;&lt;/figure&gt;
&lt;p&gt;What ifÂ that overused inline code blocks&amp;#39; style isÂ just redundant?&lt;/p&gt;
&lt;p&gt;Almost everything weÂ see there isÂ coming from how theÂ proper multiline code blocks are often presented. But doÂ weÂ really need all those styles inÂ anÂ &lt;em&gt;inline context&lt;/em&gt;?&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;DoÂ weÂ need monospace font?&lt;/strong&gt; Nope. Monospace isÂ useful when weÂ have multiple lines andÂ need toÂ align symbols inÂ aÂ nice way. But inside aÂ regular text? WeÂ don&amp;#39;t need it. GoÂ away, monospace font.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;DoÂ weÂ need borders andÂ any background color?&lt;/strong&gt; Unlikely. When weÂ have aÂ big single code block they&amp;#39;re ok, but those styles become too bright andÂ eye-catching inÂ anÂ inline context. They make your inline code blocks too &lt;strong&gt;bold&lt;/strong&gt;, andÂ itÂ would worsen theÂ text&amp;#39;s readability, asÂ theÂ eye would pay attention toÂ those bright spots before you&amp;#39;ll read theÂ whole text.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;DoÂ weÂ need syntax highlighting?&lt;/strong&gt; IÂ doubt it. ItÂ isÂ useful when weÂ have aÂ lot ofÂ code andÂ need toÂ separate some things from theÂ other, but when weÂ have only one orÂ two words inside out code blocks, theÂ highlighting isÂ just unnecessary andÂ won&amp;#39;t doÂ anything except forÂ getting more ofÂ our attention toÂ it.&lt;/p&gt;
&lt;h2 id=&quot;my-solution&quot;&gt;MyÂ Solution&lt;/h2&gt;
&lt;p&gt;So, ifÂ all those styles are redundant, orÂ even harmful forÂ our text, what should weÂ use instead? After some thoughts about all those issues, IÂ started toÂ look into how people are styling similar entities inÂ regular books. When itÂ comes toÂ theÂ non-obtrusive way ofÂ emphasizing some parts ofÂ theÂ text theÂ solution isÂ obvious. &lt;em&gt;Italic&lt;/em&gt;. AndÂ ifÂ itÂ isÂ useful forÂ the regular texts, why couldn&amp;#39;t weÂ use itÂ forÂ our inline code blocks?&lt;/p&gt;
&lt;figure class=&quot;Sidenote-Wrapper&quot;&gt;&lt;figcaption class=&quot;Sidenote&quot;&gt;MyÂ version ofÂ theÂ above example now reads better asÂ aÂ text. TheÂ bottom inline code blocks, theÂ ones with theÂ whole &lt;abbr&gt;CSS&lt;/abbr&gt; rules, were actually aÂ bit better with theÂ highlighting, soÂ itÂ would beÂ possible toÂ reintroduce itÂ there, but not asÂ brightly asÂ itÂ was before.&lt;/figcaption&gt;&lt;img class=&quot;Sidenote-Context&quot; src=&quot;http://kizu.ru/en/blog/styling-inline-code/solution.png&quot; title=&quot;&quot; alt=&quot;Fixed screenshot from Wikipedia&quot;&gt;&lt;/figure&gt;
&lt;p&gt;Actually, you can look atÂ anÂ inline code block &lt;span class=&quot;Sidenote-Wrapper&quot;&gt;&lt;a class=&quot;Sidenote-Context&quot; href=&quot;#semantics&quot; id=&quot;semantics&quot;&gt;right there&lt;/a&gt;&lt;span class=&quot;Sidenote&quot; role=&quot;note&quot;&gt;&lt;span class=&quot;Sidenote-Misc&quot;&gt; (&lt;/span&gt;Here IÂ used just anÂ &lt;code&gt;&amp;lt;em&amp;gt;&lt;/code&gt;, asÂ this post could beÂ seen onÂ &lt;abbr&gt;RSS&lt;/abbr&gt;-readers andÂ inÂ other places where you wouldn&amp;#39;t have theÂ proper code blocks&amp;#39; style like IÂ used forÂ myÂ blog.&lt;span class=&quot;Sidenote-Misc&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;a class=&quot;Sidenote-Close&quot; href=&quot;#x&quot; aria-hidden=&quot;true&quot; role=&quot;presentation&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;: &lt;em&gt;font-style: italic&lt;/em&gt;. IÂ think that itÂ look rather &lt;nobr&gt;niceâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;unobtrusive, but separate from theÂ regular text.&lt;/p&gt;
&lt;p&gt;Italic separates theÂ code from theÂ other text just fine, inÂ most cases, you won&amp;#39;t need anything else there. TheÂ easiest way toÂ make your inline code blocks italic isÂ something like this:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-styl&quot;&gt;:not(pre) &amp;gt; code {
    font: inherit;
    font-style: italic;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This would make your inline code blocks toÂ look like aÂ regular italic text. Note theÂ &lt;code&gt;:not(pre)&lt;/code&gt;&lt;nobr&gt;â€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;ifÂ you&amp;#39;ll mark your big code blocks using &lt;code&gt;&amp;lt;pre&amp;gt;&amp;lt;code&amp;gt;&lt;/code&gt;, this selector won&amp;#39;t match them. OfÂ course, ifÂ you&amp;#39;re using some kind ofÂ syntax highlighter, you&amp;#39;ll need toÂ disable itÂ (orÂ override its styles) forÂ inline code blocks. InÂ some cases, when you&amp;#39;re using aÂ different web font forÂ the italic, you&amp;#39;ll need toÂ specify this too toÂ not make aÂ faux italic instead, ofÂ course.&lt;/p&gt;
&lt;p&gt;There can beÂ some cons forÂ this solution. ForÂ example, ifÂ you&amp;#39;d want toÂ have some &lt;em&gt;regular emphasis&lt;/em&gt; you&amp;#39;ll have theÂ same style forÂ both itÂ andÂ inline code blocks. But inÂ most cases reader would know theÂ difference from theÂ context andÂ itÂ won&amp;#39;t matter much.&lt;/p&gt;
&lt;h2 id=&quot;yes-it-39-s-all-subjective&quot;&gt;Yes, It&amp;#39;s All Subjective&lt;/h2&gt;
&lt;p&gt;Italic forÂ inline code blocks can be, ofÂ course, unusual. But I&amp;#39;m not saying that that&amp;#39;s theÂ only possible solution.
Overall, itÂ isÂ aÂ matter ofÂ &lt;nobr&gt;styleâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;how you would present your inline code blocks. Sometimes you&amp;#39;d want them toÂ pop andÂ bring reader&amp;#39;s attention. But ifÂ you&amp;#39;d want toÂ have your texts with aÂ lot ofÂ inline code blocks toÂ beÂ more &lt;nobr&gt;readableâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;italic could help you.&lt;/p&gt;

    </content>
  </entry>
  <entry>
    <title>The New Version of This Site</title>
    <link href="http://kizu.ru/en/blog/the-new-version-of-this-site/"/>
    <updated>2016-08-13T00:00:00+03:00</updated>
    <id>http://kizu.ru/en/blog/the-new-version-of-this-site</id>
    <content type="html">&lt;h1 id=&quot;the-new-version-of-this-site&quot;&gt;TheÂ New Version ofÂ This Site&lt;/h1&gt;
&lt;p&gt;Around one andÂ aÂ half month ago, onÂ &lt;span class=&quot;Sidenote-Wrapper&quot;&gt;&lt;a class=&quot;Sidenote-Context&quot; href=&quot;#yep&quot; id=&quot;yep&quot;&gt;June, 23rd&lt;/a&gt;&lt;span class=&quot;Sidenote&quot; role=&quot;note&quot;&gt;&lt;span class=&quot;Sidenote-Misc&quot;&gt; (&lt;/span&gt;Yep, itÂ was more than aÂ month from theÂ publishing ofÂ aÂ site till IÂ published this &lt;nobr&gt;postâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;IÂ wanted toÂ see how theÂ new site would work inÂ production andÂ fix some things here andÂ there.&lt;span class=&quot;Sidenote-Misc&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;a class=&quot;Sidenote-Close&quot; href=&quot;#x&quot; aria-hidden=&quot;true&quot; role=&quot;presentation&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;, IÂ published aÂ new version ofÂ myÂ site. Once again. ItÂ isÂ rather hard toÂ remember which version number itÂ should beÂ now. IfÂ we&amp;#39;d count itÂ from theÂ very start, from theÂ times when IÂ didn&amp;#39;t know how toÂ markup pages properly, this would beÂ theÂ thirteenth version. OrÂ something around that. OfÂ course, that isÂ ifÂ weÂ won&amp;#39;t count all theÂ unfinished andÂ trashed versions.&lt;/p&gt;
&lt;h2 id=&quot;a-bit-of-history&quot;&gt;AÂ Bit ofÂ History&lt;/h2&gt;
&lt;p&gt;MyÂ very first site was uploaded toÂ theÂ internets onÂ theÂ fourth ofÂ November 2001. IÂ didn&amp;#39;t know what &lt;abbr&gt;CSS&lt;/abbr&gt; is. AtÂ &lt;nobr&gt;allâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;theÂ site was made mostly ofÂ frames andÂ tables. That site&amp;#39;s content was mostly aÂ bunch ofÂ myÂ childish creations. Like custom maps forÂ the Heroes ofÂ Might andÂ Magic &lt;abbr&gt;III&lt;/abbr&gt; game, some stupid poetry, some other utter nonsense. TheÂ site moved from one ofÂ numerous free Russian hostings toÂ another, ending atÂ theÂ â€œnarod.ruâ€ where itÂ stayed forÂ quite aÂ long &lt;nobr&gt;timeâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;8 different &lt;nobr&gt;versionsâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;without any resemblance toÂ what you can see onÂ this site today.&lt;/p&gt;
&lt;p&gt;InÂ December 2006, IÂ happened toÂ read all theÂ &lt;abbr&gt;CSS&lt;/abbr&gt; specifications forÂ the first time, and, aÂ bit more than aÂ year after that, inÂ February 2008, I&amp;#39;ve launched aÂ ninth version ofÂ myÂ site, this time onÂ myÂ own &lt;nobr&gt;domainâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;kizu.ru. AtÂ this time IÂ already knew something about how toÂ build web pages, all due toÂ theÂ years ofÂ tweaking theÂ styles forÂ LiveJournal, starting from theÂ &lt;abbr&gt;CSS&lt;/abbr&gt; overrides, andÂ finishing with custom templates onÂ LJ&amp;#39;s own templating engine. Therefore, IÂ decided toÂ dedicate myÂ new site toÂ web development, andÂ all myÂ creative stuff could beÂ now found only inÂ myÂ archives andÂ friends-only LiveJournal entries.&lt;/p&gt;
&lt;p&gt;AtÂ first, IÂ used &lt;a href=&quot;https://movabletype.org/&quot;&gt;Movable Type&lt;/a&gt; asÂ anÂ engine forÂ kizu.ru. Then, inÂ August 2009, when IÂ went deeper andÂ deeper into front-end web development andÂ learned how toÂ make all theÂ things from scratch, IÂ rewrote theÂ site toÂ beÂ just aÂ set ofÂ static &lt;abbr&gt;HTML&lt;/abbr&gt; files. This went until February 2011, when I&amp;#39;ve finally fed upÂ with updating theÂ site manually (using regular expressions andÂ global search-and-replace inÂ myÂ code editor), soÂ IÂ managed toÂ work out some automatization andÂ remade everything IÂ had using &lt;a href=&quot;http://nanoc.ws/&quot;&gt;nanoc&lt;/a&gt; static site generator.&lt;/p&gt;
&lt;p&gt;Another two years passed andÂ onÂ January 17, 2013, IÂ relaunched theÂ whole site once again, this time using &lt;a href=&quot;https://jekyllrb.com/&quot;&gt;Jekyll&lt;/a&gt;, with theÂ hosting onÂ &lt;a href=&quot;https://pages.github.com/&quot;&gt;GitHub Pages&lt;/a&gt;. This time though, IÂ rethought theÂ whole site&amp;#39;s design andÂ went deeper into achieving readable typography forÂ the content. That was theÂ previous, twelfth version ofÂ myÂ site.&lt;/p&gt;
&lt;h2 id=&quot;thirteenth-version&quot;&gt;Thirteenth Version&lt;/h2&gt;
&lt;h3 id=&quot;engine&quot;&gt;Engine&lt;/h3&gt;
&lt;p&gt;This time, IÂ managed toÂ rewrite everything from scratch. Twice! Jekyll that IÂ endorsed aÂ lot before, started toÂ become too tight forÂ me. When coming from theÂ box (i.e. theÂ version that isÂ there atÂ GitHub Pages) itÂ can&amp;#39;t doÂ too much. Any advanced needs (like some ofÂ theÂ typography quirks) could beÂ achieved only byÂ aÂ really hellish code onÂ its Liquid template engine, orÂ byÂ using external ruby plug-ins. IÂ went far beyond what was possible inÂ Liquid (andÂ made some things there IÂ doubt anyone had gone that far to) andÂ was atÂ its limits, andÂ you couldn&amp;#39;t run theÂ ruby plugins onÂ GitHub Pages. AndÂ ifÂ I&amp;#39;d need toÂ build theÂ site asÂ anÂ extra step andÂ push theÂ built static files, IÂ thought ofÂ using something that I&amp;#39;m more familiar &lt;nobr&gt;withâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;JS.&lt;/p&gt;
&lt;p&gt;SoÂ IÂ chose &lt;a href=&quot;http://docpad.org/&quot;&gt;Docpad&lt;/a&gt;. IÂ almost rewrote theÂ whole site using it, but theÂ farther IÂ went, theÂ longer theÂ build time increased. AtÂ one point, when theÂ build time went beyond 90 seconds, IÂ told myself toÂ stop andÂ look atÂ theÂ site with fresh eyes. After some thoughts, after reading both Docpad docs andÂ the docs ofÂ different other static site generators, IÂ concluded that nothing that isÂ there onÂ theÂ market would fit myÂ needs. Everywhere IÂ needed more than theÂ projects could allow meÂ to, so, inÂ any case, I&amp;#39;d need toÂ write more than 90% ofÂ what IÂ need byÂ myself, without using any external plugins. AndÂ that meant fighting with how theÂ static generators were meant toÂ work.&lt;/p&gt;
&lt;p&gt;InÂ theÂ end, IÂ wrote theÂ whole static site generation thing byÂ myself, using gulp asÂ aÂ foundation andÂ reusing some ofÂ theÂ custom JS IÂ wrote forÂ the Docpad version. Disclaimer: &lt;span class=&quot;Sidenote-Wrapper&quot;&gt;&lt;a class=&quot;Sidenote-Context&quot; href=&quot;#don-t&quot; id=&quot;don-t&quot;&gt;don&amp;#39;t look into theÂ source&lt;/a&gt;&lt;span class=&quot;Sidenote&quot; role=&quot;note&quot;&gt;&lt;span class=&quot;Sidenote-Misc&quot;&gt; (&lt;/span&gt;&lt;abbr&gt;BTW&lt;/abbr&gt;, IÂ made aÂ &lt;a href=&quot;https://vimeo.com/album/2588576/video/77929464&quot;&gt;short talk&lt;/a&gt; with this exact name.&lt;span class=&quot;Sidenote-Misc&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;a class=&quot;Sidenote-Close&quot; href=&quot;#x&quot; aria-hidden=&quot;true&quot; role=&quot;presentation&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;. Everything. Is. Very. Bad. IÂ have learned gulp onÂ theÂ fly, prototyped, experimented. But even this non-optimized andÂ not profiled code runs 10 times faster than what IÂ have managed toÂ get from &lt;nobr&gt;Docpadâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;around &lt;nobr&gt;8-9&lt;/nobr&gt; seconds top, with more features andÂ complexity. With watchers, different parts could beÂ rebuilt even faster, andÂ IÂ have plans toÂ add partial rebuilds just forÂ specific posts that would make everything lightning-fast. AndÂ itÂ isÂ already much easier toÂ add new features even with theÂ current messy code base.&lt;/p&gt;
&lt;p&gt;Anyway, I&amp;#39;m glad that IÂ went out ofÂ using theÂ existing static generators andÂ learned theÂ basics ofÂ gulp; maybe one day I&amp;#39;ll separate some parts ofÂ myÂ engine soÂ you could reuse itÂ too. But IÂ can&amp;#39;t promise anything there. Maybe atÂ one point I&amp;#39;ll even rewrite everything onÂ something new, like all that fancy react-webpack stuff, who knows! But right now almost everything isÂ fine forÂ me.&lt;/p&gt;
&lt;h3 id=&quot;markup-design-and-typography&quot;&gt;Markup, Design, andÂ Typography&lt;/h3&gt;
&lt;p&gt;You shouldn&amp;#39;t look into theÂ sources ofÂ &lt;abbr&gt;CSS&lt;/abbr&gt; too. Most ofÂ theÂ styles are there from theÂ previous version ofÂ theÂ site, andÂ while some things are rewritten aÂ bit, I&amp;#39;d like toÂ rewrite everything from scratch there again. No, IÂ still like aÂ lot ofÂ what IÂ wrote, but theÂ source isÂ dirty, badly structured, don&amp;#39;t look atÂ it. TheÂ tastiest stuff would beÂ explained inÂ theÂ &lt;span class=&quot;Sidenote-Wrapper&quot;&gt;&lt;a class=&quot;Sidenote-Context&quot; href=&quot;#i-swear&quot; id=&quot;i-swear&quot;&gt;future posts&lt;/a&gt;&lt;span class=&quot;Sidenote&quot; role=&quot;note&quot;&gt;&lt;span class=&quot;Sidenote-Misc&quot;&gt; (&lt;/span&gt;Yeah, IÂ often overpromise all theÂ new posts, but &lt;em&gt;forÂ once&lt;/em&gt;, I&amp;#39;m going toÂ fulfill it, IÂ swear! :)&lt;span class=&quot;Sidenote-Misc&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;a class=&quot;Sidenote-Close&quot; href=&quot;#x&quot; aria-hidden=&quot;true&quot; role=&quot;presentation&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;/span&gt; anyway.&lt;/p&gt;
&lt;p&gt;TheÂ design may seem toÂ beÂ theÂ same asÂ itÂ was before atÂ theÂ first glance. But aÂ lot ofÂ little details had changed, especially inÂ typography. I&amp;#39;m still using aÂ custom font that IÂ &lt;nobr&gt;boughtâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;&lt;a href=&quot;http://www.myfonts.com/fonts/letterheadrussia/21-cent/&quot;&gt;21 Cent&lt;/a&gt; byÂ &lt;a href=&quot;http://www.letterhead.ru/&quot;&gt;Letterhead&lt;/a&gt;, but this time, IÂ bought another font style forÂ the headers. I&amp;#39;ve started toÂ use &lt;span class=&quot;Sidenote-Wrapper&quot;&gt;&lt;a class=&quot;Sidenote-Context&quot; href=&quot;#overused&quot; id=&quot;overused&quot;&gt;more OpenType features&lt;/a&gt;&lt;span class=&quot;Sidenote&quot; role=&quot;note&quot;&gt;&lt;span class=&quot;Sidenote-Misc&quot;&gt; (&lt;/span&gt;Maybe even I&amp;#39;ve overused them somewhere just forÂ the sake ofÂ demoing them.&lt;span class=&quot;Sidenote-Misc&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;a class=&quot;Sidenote-Close&quot; href=&quot;#x&quot; aria-hidden=&quot;true&quot; role=&quot;presentation&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;, added hyphenation, &lt;nobr&gt;andâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;ohÂ wow!&lt;nobr&gt;â€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;justified text. AndÂ itÂ even looks not that &lt;nobr&gt;awfulâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;thanks toÂ theÂ hyphenation andÂ enough ofÂ available space forÂ the text. Overall, IÂ use aÂ lot ofÂ experimental andÂ not optimal stuff there. I&amp;#39;m sure IÂ would change some ofÂ those things inÂ theÂ future, andÂ IÂ certanly would drop other things ifÂ they would&amp;#39;t work out.&lt;/p&gt;
&lt;h3 id=&quot;content&quot;&gt;Content&lt;/h3&gt;
&lt;p&gt;IÂ have aÂ lot ofÂ plans andÂ ideas about what should beÂ there onÂ this site. Right now there are all theÂ same articles that were there before, but I&amp;#39;m removing theÂ unnecessary splitting toÂ all theÂ different categories (they would beÂ there, but just asÂ one ofÂ many other filters), andÂ created aÂ &lt;a href=&quot;/en/everything/&quot;&gt;list ofÂ everything that IÂ have there&lt;/a&gt; instead, soÂ itÂ would beÂ easier toÂ find anÂ article orÂ anÂ experiment you need. I&amp;#39;m planning toÂ fill itÂ upÂ over time not only with new posts andÂ experiments, but also with different old content that IÂ hadn&amp;#39;t yet published orÂ translated from Russian forÂ some reasons.&lt;/p&gt;
&lt;p&gt;Other than regularily writing new content (hopefully), IÂ would update theÂ basic structure ofÂ theÂ site too. There&amp;#39;ll beÂ aÂ regular â€œabout meâ€ section one day, aside from aÂ proper CV, andÂ alongside other interesting new pages.&lt;/p&gt;
&lt;h2 id=&quot;welcome-&quot;&gt;Welcome!&lt;/h2&gt;
&lt;p&gt;Thank you ifÂ you managed toÂ read this post till this point. AtÂ first, IÂ planned toÂ make just aÂ short post telling you â€œHey! Here isÂ aÂ new version!â€, but IÂ went rather deep into theÂ site&amp;#39;s history andÂ &lt;span class=&quot;Sidenote-Wrapper&quot;&gt;&lt;a class=&quot;Sidenote-Context&quot; href=&quot;#old-versions&quot; id=&quot;old-versions&quot;&gt;versioning&lt;/a&gt;&lt;span class=&quot;Sidenote&quot; role=&quot;note&quot;&gt;&lt;span class=&quot;Sidenote-Misc&quot;&gt; (&lt;/span&gt;Maybe one day I&amp;#39;ll write more about all theÂ different old versions. When I&amp;#39;ll beÂ ready.&lt;span class=&quot;Sidenote-Misc&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;a class=&quot;Sidenote-Close&quot; href=&quot;#x&quot; aria-hidden=&quot;true&quot; role=&quot;presentation&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;, then submerged into theÂ whole double jekyllâ†’docpadâ†’gulp rewrite. InÂ theÂ end, itÂ became aÂ &lt;nobr&gt;not-so&lt;/nobr&gt;-short post, soÂ sorry forÂ that :)&lt;/p&gt;
&lt;p&gt;AsÂ always, ifÂ you&amp;#39;ll find any typos orÂ mistakes inÂ theÂ texts, orÂ bugs inÂ &lt;nobr&gt;markupâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;feel free toÂ write meÂ &lt;a href=&quot;mailto:kizmarh@ya.ru&quot;&gt;anÂ &lt;nobr&gt;e-mail&lt;/nobr&gt;&lt;/a&gt;, fill upÂ anÂ &lt;a href=&quot;https://github.com/kizu/kizu.github.com/issues&quot;&gt;issue atÂ GitHub&lt;/a&gt;, orÂ let meÂ know atÂ &lt;a href=&quot;https://twitter.com/kizmarh&quot;&gt;twitter&lt;/a&gt; anytime. I&amp;#39;ll beÂ glad! IfÂ you&amp;#39;d review theÂ design andÂ typography inÂ details andÂ would have any &lt;nobr&gt;questionsâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;they&amp;#39;re welcome too, ofÂ course! While IÂ have plans forÂ future posts, ifÂ you would beÂ interested inÂ something specific, IÂ will beÂ happy toÂ elaborate onÂ it, asÂ this would beÂ aÂ nice motivator forÂ meÂ toÂ continue writing.&lt;/p&gt;

    </content>
  </entry>
  <entry>
    <title>Nested Links</title>
    <link href="http://kizu.ru/en/fun/nested-links/"/>
    <updated>2015-02-10T00:00:00+03:00</updated>
    <id>http://kizu.ru/en/fun/nested-links</id>
    <content type="html">&lt;h1 id=&quot;nested-links&quot;&gt;Nested Link&lt;span class=&quot;ss01&quot;&gt;s&lt;/span&gt;&lt;/h1&gt;
&lt;p&gt;&lt;img src=&quot;http://kizu.ru/en/fun/nested-links/nested-links.jpg&quot; width=&quot;640&quot; height=&quot;480&quot; alt=&quot;Cats playing nested links&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;the-problem&quot;&gt;TheÂ problem&lt;/h2&gt;
&lt;p&gt;&lt;abbr&gt;HTML&lt;/abbr&gt; specification has aÂ lot ofÂ different restrictions. AndÂ IÂ have myÂ doubts about theÂ feasibility ofÂ many ofÂ those. One example which IÂ stumble upon rather &lt;nobr&gt;oftenâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;nested links.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.w3.org/TR/html5/text-level-semantics.html#the-a-element&quot;&gt;Spec&lt;/a&gt; straightly forbids such nesting:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;TheÂ &lt;strong&gt;a&lt;/strong&gt; element&lt;/p&gt;
&lt;p&gt;[â€¦]&lt;/p&gt;
&lt;p&gt;Content model: transparent, but there must beÂ noÂ &lt;a href=&quot;http://www.w3.org/TR/html5/dom.html#interactive-content-0&quot;&gt;interactive&lt;/a&gt; content descendant.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;AndÂ ifÂ youâ€™d doÂ this, browserâ€™s parser wonâ€™t understand you and, asÂ soon asÂ itâ€™d see theÂ opening tag forÂ the nested link, itÂ would close theÂ first one right there:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-html&quot;&gt;&amp;lt;a href=&amp;quot;#Foo&amp;quot;&amp;gt;
    Foo
    &amp;lt;a href=&amp;quot;#Bar&amp;quot;&amp;gt;
        Bar
    &amp;lt;/a&amp;gt;
    Baz
&amp;lt;/a&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;inÂ theÂ eyes ofÂ theÂ browser would beÂ something like &lt;nobr&gt;that&amp;#8202;â€”&lt;/nobr&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-html&quot;&gt;&amp;lt;a href=&amp;quot;#Foo&amp;quot;&amp;gt;
    Foo
    &amp;lt;/a&amp;gt;&amp;lt;a href=&amp;quot;#Bar&amp;quot;&amp;gt;
        Bar
    &amp;lt;/a&amp;gt;
    Baz
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;AndÂ aÂ live example:&lt;/p&gt;
&lt;p&gt;Look at the demo &lt;a href=&quot;http://kizu.ru/en/fun/nested-links/#Demo_nested-links-broken&quot;&gt;embedded in the post&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;However, there are cases when youâ€™d want toÂ nest one link inside another despite theÂ restrictions.&lt;/p&gt;
&lt;p&gt;So, once again, while working onÂ one task IÂ stumbled upon such case. IÂ happen toÂ see andÂ use different workarounds forÂ itÂ before, like anÂ emulation ofÂ theÂ nested links with JS (forÂ example, with banal &lt;code&gt;onclick&lt;/code&gt;), orÂ positioning one ofÂ theÂ links around theÂ &lt;span class=&quot;Sidenote-Wrapper&quot;&gt;&lt;a class=&quot;Sidenote-Context&quot; href=&quot;#shared-wrapper&quot; id=&quot;shared-wrapper&quot;&gt;shared wrapper&lt;/a&gt;&lt;span class=&quot;Sidenote&quot; role=&quot;note&quot;&gt;&lt;span class=&quot;Sidenote-Misc&quot;&gt; (&lt;/span&gt;Look atÂ &lt;a href=&quot;http://jsfiddle.net/csswizardry/rxsna/&quot;&gt;such solution&lt;/a&gt; byÂ Harry Roberts&lt;span class=&quot;Sidenote-Misc&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;a class=&quot;Sidenote-Close&quot; href=&quot;#x&quot; aria-hidden=&quot;true&quot; role=&quot;presentation&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;, but all those workarounds wouldnâ€™t work inÂ all cases, andÂ wouldnâ€™t work perfectly. Weâ€™d either lose theÂ nativity ofÂ aÂ link, trying toÂ emulate everything from scratch, either wonâ€™t beÂ able toÂ make aÂ workaround work just like properly nested elements would.&lt;/p&gt;
&lt;p&gt;So, after trying andÂ weighing all theÂ known workarounds inÂ myÂ head, IÂ found out that IÂ couldn&amp;#39;t solve theÂ current task byÂ any ofÂ theÂ workarounds other than full JS emulation. But IÂ stopped andÂ decided toÂ experiment aÂ bit more.&lt;/p&gt;
&lt;p&gt;&lt;nobr&gt;Andâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;found aÂ proper solution. &lt;abbr&gt;HTML&lt;/abbr&gt;-only one, byÂ theÂ way, theÂ one that gives you aÂ way toÂ nest any number ofÂ links one into another.&lt;/p&gt;
&lt;h2 id=&quot;the-solution&quot;&gt;TheÂ solution&lt;/h2&gt;
&lt;p&gt;Look at the demo &lt;a href=&quot;http://kizu.ru/en/fun/nested-links/#Demo_nested-links-simple&quot;&gt;embedded in the post&lt;/a&gt;.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-html&quot;&gt;&amp;lt;a href=&amp;quot;#a&amp;quot;&amp;gt;
    Foo
    &amp;lt;object type=&amp;quot;lol/wut&amp;quot;&amp;gt;
        &amp;lt;a href=&amp;quot;#b&amp;quot;&amp;gt;
            Bar
        &amp;lt;/a&amp;gt;
    &amp;lt;/object&amp;gt;
    Baz
&amp;lt;/a&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;What weÂ doÂ there isÂ just placing anÂ object between those links. Yep, itÂ works: all parsers ofÂ modern browsers suddenly see those links independently, andÂ wonâ€™t break your markup anymore. Hooray.&lt;/p&gt;
&lt;h2 id=&quot;why-does-it-work&quot;&gt;Why does itÂ work&lt;/h2&gt;
&lt;p&gt;What are objects, inÂ theory? They are some external entities, with theÂ type set byÂ theÂ &lt;code&gt;type&lt;/code&gt; attribute andÂ the content orÂ aÂ link toÂ itÂ placed into theÂ &lt;code&gt;data&lt;/code&gt; attribute. AndÂ the content between theÂ opening andÂ closing &lt;code&gt;object&lt;/code&gt; tags is, &lt;span class=&quot;Sidenote-Wrapper&quot;&gt;&lt;a class=&quot;Sidenote-Context&quot; href=&quot;#update&quot; id=&quot;update&quot;&gt;inÂ fact&lt;/a&gt;&lt;span class=&quot;Sidenote&quot; role=&quot;note&quot;&gt;&lt;span class=&quot;Sidenote-Misc&quot;&gt; (&lt;/span&gt;Actually, see theÂ &lt;a href=&quot;#update-from-2015-03-05&quot;&gt;Update&lt;/a&gt;&lt;span class=&quot;Sidenote-Misc&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;a class=&quot;Sidenote-Close&quot; href=&quot;#x&quot; aria-hidden=&quot;true&quot; role=&quot;presentation&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;, aÂ fallback, andÂ itÂ would beÂ shown only when browser wouldnâ€™t beÂ capable ofÂ displaying theÂ object defined inÂ theÂ attributes. Like, forÂ example, ifÂ you wonâ€™t have anÂ installed plugin.&lt;/p&gt;
&lt;p&gt;AndÂ ifÂ youâ€™d write some gibberish &lt;abbr&gt;MIME&lt;/abbr&gt;-type into theÂ &lt;code&gt;type&lt;/code&gt; attribute, aÂ browser wouldnâ€™t understand itÂ andÂ would goÂ straight toÂ displaying theÂ fallback. And, inÂ fact, itÂ would doÂ theÂ same even ifÂ youâ€™d omit those â€œrequiredâ€ attributes atÂ all.&lt;/p&gt;
&lt;p&gt;This way, after wrapping any &lt;abbr&gt;HTML&lt;/abbr&gt; with such attributeless &lt;code&gt;&amp;lt;object&amp;gt;&lt;/code&gt; weÂ would get just aÂ wrapper element forÂ this content. But aÂ wrapper with anÂ unusual trait: any content inside ofÂ itÂ would beÂ treated byÂ browserâ€™s parser without looking atÂ theÂ objectâ€™s context. So, using this trait weÂ can, finally, nest one link into another, separating them forÂ aÂ parser.&lt;/p&gt;
&lt;p&gt;IÂ suppose that this behavior was introduced toÂ browsers because those object fallbacks were mostly used forÂ showing links like â€œYou donâ€™t have our marvelous plugin installed, download itÂ now!â€ (like, forÂ flash objects). AndÂ aÂ lot ofÂ developers could use such objects asÂ any other content orÂ &lt;nobr&gt;imagesâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;nesting into all theÂ other tags they had inÂ &lt;abbr&gt;HTML&lt;/abbr&gt;: links, headers, paragraphs, wherever. So, browsers needed this fallback toÂ display properly inÂ those conditions, andÂ they introduced this behavior, soÂ theÂ â€œwebmastersâ€ would beÂ safe from breaking their sites when inserting some copy-and-pasted code forÂ such external objects into their pages.&lt;/p&gt;
&lt;h2 id=&quot;browser-support&quot;&gt;Browser support&lt;/h2&gt;
&lt;p&gt;Not all ofÂ theÂ browsers had this behavior from theÂ start.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Internet Explorer began toÂ behave like this only from theÂ 9th version.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;nobr&gt;Firefoxâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;from theÂ 4th.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;nobr&gt;Operaâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;atÂ least from 9th (maybe even &lt;nobr&gt;earlierâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;IÂ didnâ€™t dig deeper than that).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;nobr&gt;Webkitsâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;all that IÂ checked: Safari atÂ least from 5.1, &lt;nobr&gt;Chromeâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;from 14, etc.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Obviously, theÂ only browsers weâ€™d need toÂ support with such conditions are old IE, all other browsers already behave correctly inÂ all ofÂ theÂ widely supported versions.&lt;/p&gt;
&lt;h3 id=&quot;ie-fallback&quot;&gt;IE fallback&lt;/h3&gt;
&lt;p&gt;IÂ donâ€™t know ofÂ any easy solution forÂ this problem inÂ old IE. AtÂ theÂ very least you could try toÂ fix itÂ somehow byÂ â€œremovingâ€ theÂ nested links using conditional comments:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-html&quot;&gt;&amp;lt;a href=&amp;quot;â€¦&amp;quot;&amp;gt;
    content of the main linkâ€¦
    &amp;lt;object&amp;gt;
        &amp;lt;!--[if gte IE 9]&amp;gt;&amp;lt;!--&amp;gt;&amp;lt;a href=&amp;quot;â€¦&amp;quot;&amp;gt;&amp;lt;!--&amp;lt;![endif]--&amp;gt;
            content of the nested linkâ€¦
        &amp;lt;!--[if gte IE 9]&amp;gt;&amp;lt;!--&amp;gt;&amp;lt;/a&amp;gt;&amp;lt;!--&amp;lt;![endif]--&amp;gt;
    &amp;lt;/object&amp;gt;
&amp;lt;/a&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Youâ€™d lose some functionality there, but itÂ could beÂ okÂ forÂ the most cases. &lt;span class=&quot;Sidenote-Wrapper&quot;&gt;&lt;a class=&quot;Sidenote-Context&quot; href=&quot;#try-expressions&quot; id=&quot;try-expressions&quot;&gt;IfÂ not&lt;/a&gt;&lt;span class=&quot;Sidenote&quot; role=&quot;note&quot;&gt;&lt;span class=&quot;Sidenote-Misc&quot;&gt; (&lt;/span&gt;Curious ones could think about ifÂ itÂ isÂ possible toÂ make aÂ fallback using expressions&lt;span class=&quot;Sidenote-Misc&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;a class=&quot;Sidenote-Close&quot; href=&quot;#x&quot; aria-hidden=&quot;true&quot; role=&quot;presentation&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;, you could then insert those links later, separately, using theÂ same conditional comments, orÂ use other workarounds forÂ this problem.&lt;/p&gt;
&lt;h2 id=&quot;is-it-valid-&quot;&gt;IsÂ itÂ valid?&lt;/h2&gt;
&lt;p&gt;Nope, not even close. ItÂ isÂ not valid because weÂ donâ€™t have any ofÂ theÂ required attributes onÂ anÂ object. WeÂ could set some dummy, but &lt;a href=&quot;http://www.w3.org/TR/html5/infrastructure.html#valid-mime-type&quot;&gt;valid mime-type&lt;/a&gt;, like &lt;code&gt;type=&amp;quot;lol/wut&amp;quot;&lt;/code&gt;, andÂ the object itself would then pass theÂ validation, but asÂ soon asÂ weÂ nest theÂ link inside ofÂ it, theÂ validator would throw usÂ anÂ error.&lt;/p&gt;
&lt;p&gt;Obviously, aÂ validator isÂ aÂ tool not showing anything but theÂ formal specifications compliance. InÂ our case, theÂ usage ofÂ links inside objects isÂ entirely reasonable andÂ wonâ€™t break anything forÂ anyone ifÂ weâ€™d make things inÂ aÂ proper way.&lt;/p&gt;
&lt;p&gt;More than that, IÂ doÂ not see any reasons atÂ all why specs shouldnâ€™t drop those restrictions andÂ allow usÂ toÂ nest theÂ links. NoÂ reasons. None. There are aÂ lot ofÂ cases where this isÂ aÂ crucial requirement, andÂ right now all weÂ have are workarounds andÂ â€œhacksâ€ like this one.&lt;/p&gt;
&lt;h2 id=&quot;usage-examples&quot;&gt;Usage examples&lt;/h2&gt;
&lt;p&gt;AtÂ first, IÂ wanted toÂ describe all theÂ possible use cases forÂ the nested links, with live examples andÂ whatnot, but then IÂ remembered that such examples wonâ€™t convince anyone who isnâ€™t already convinced. Anyone who ever stumbled upon this problem would have everything they need from theÂ solution above, andÂ others would always beÂ negative about things like that, &lt;em&gt;because specs&lt;/em&gt;. Also: itÂ isÂ very tiring toÂ mark upÂ all those examples, soÂ Iâ€™ll just put them into aÂ list:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Excerpts from theÂ articles, when theÂ snippet ofÂ first few sentences could contain links which you wouldnâ€™t want toÂ strip from theÂ markup.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Sidenotes, footnotes, andÂ nested terms are all too can beÂ inside links, why not.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Any complex UI with aÂ lot ofÂ nested entities, which could happen toÂ beÂ described asÂ links. Those could beÂ tweets inÂ any ofÂ theÂ Twitterâ€™s interface, leading toÂ theÂ tweetâ€™s page, but atÂ theÂ same time containing other &lt;nobr&gt;linksâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;toÂ users, hashtags, andÂ external pages. Those could beÂ mail interfaces, where theÂ snippet ofÂ aÂ message inÂ anÂ inbox that should beÂ aÂ link toÂ aÂ message itself could contain other &lt;nobr&gt;linksâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;attachments, link toÂ threads, labels, etc.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;-&quot;&gt;&lt;em&gt; &lt;/em&gt; *&lt;/h2&gt;
&lt;p&gt;TheÂ one thing Iâ€™d like toÂ say inÂ theÂ end isÂ that that trick with anÂ object could beÂ applied toÂ any content that youâ€™d like toÂ use somewhere where theÂ specs forbid you to.&lt;/p&gt;
&lt;p&gt;AsÂ anÂ example, there are aÂ bunch ofÂ new tags inÂ theÂ latest specs that you already should know, like &lt;code&gt;details&lt;/code&gt; andÂ &lt;code&gt;figure&lt;/code&gt;. Guess what: byÂ specs you can use them only inÂ flow-level contexts: you canâ€™t have pictures with captions illustrating some word inside aÂ paragraph, you canâ€™t have aÂ description orÂ footnotes forÂ some words inside aÂ paragraph orÂ aÂ heading (andÂ what other than &lt;code&gt;details&lt;/code&gt; tag would fit forÂ this?), you canâ€™t have aÂ lot ofÂ cases that someone doing specs couldnâ€™t think of.&lt;/p&gt;
&lt;p&gt;TheÂ &lt;code&gt;&amp;lt;object&amp;gt;&lt;/code&gt; trick solves all those problems. TheÂ question isÂ only ifÂ such usage would beÂ feasible forÂ you. AndÂ Iâ€™d say that aÂ lot ofÂ restrictions onÂ specs are useless andÂ ability toÂ work around them, with valid arguments, isÂ priceless.&lt;/p&gt;
&lt;h2 id=&quot;update-from-2015-03-05&quot;&gt;Update from &lt;nobr&gt;2015-03&lt;/nobr&gt;-05&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/VovanR&quot;&gt;Vladimir Rodkin&lt;/a&gt; found out that Firefoxâ€™ Flashblock plugin removes â€œbroken objectsâ€, andÂ itÂ treats attributeless &lt;code&gt;&amp;lt;object&amp;gt;&lt;/code&gt; asÂ such. Adding unknown mime-type like &lt;code&gt;type=&amp;quot;lol/wut&amp;quot;&lt;/code&gt; fixes this problem andÂ FxÂ starts toÂ show theÂ object correctly.&lt;/p&gt;

    </content>
  </entry>
  <entry>
    <title>Battle for Baseline</title>
    <link href="http://kizu.ru/en/blog/flex-baseline/"/>
    <updated>2014-02-10T00:00:00+03:00</updated>
    <id>http://kizu.ru/en/blog/flex-baseline</id>
    <content type="html">&lt;h1 id=&quot;battle-for-baseline&quot;&gt;Battle forÂ Baseline&lt;/h1&gt;
&lt;p&gt;&lt;img src=&quot;http://kizu.ru/en/blog/flex-baseline/flex-baseline.jpg&quot; width=&quot;756&quot; height=&quot;478&quot; alt=&quot;Kitties&quot;&gt;&lt;/p&gt;
&lt;p&gt;TheÂ best solution forÂ inline blocks were, well, inline-blocks. IÂ used toÂ like them because you could solve aÂ lot ofÂ tasks with them. But they&amp;#39;re not ideal. They&amp;#39;re not capable ofÂ doing baseline vertical aligning &lt;em&gt;right&lt;/em&gt;. AndÂ the problems come straight from theÂ &lt;a href=&quot;http://www.w3.org/TR/CSS2/visudet.html#propdef-vertical-align&quot;&gt;specs&lt;/a&gt;, just read theÂ last two paragraphs toÂ see theÂ problems:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;â€œTheÂ baseline ofÂ anÂ &lt;code&gt;inline-block&lt;/code&gt; isÂ theÂ baseline ofÂ its &lt;strong&gt;last&lt;/strong&gt; line box inÂ theÂ normal flow.â€&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;â€œIf [&lt;code&gt;inline-block&lt;/code&gt;&amp;#39;s] &lt;code&gt;overflow&lt;/code&gt; property has aÂ computed value other than &lt;code&gt;visible&lt;/code&gt;, [its] baseline isÂ theÂ bottom margin edge.â€&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Those rules make only one lined, simple inline-blocks usable with &lt;code&gt;vertical-align: baseline&lt;/code&gt;, inÂ all other complex cases, weÂ would get not what weÂ would need.&lt;/p&gt;
&lt;p&gt;Here isÂ anÂ example: all three blocks have &lt;code&gt;display: inline-block&lt;/code&gt;, theÂ first one isÂ simple oneliner, but with bigger padding, second one isÂ multiline, but has smaller font-size andÂ the third one has &lt;code&gt;overflow: auto&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://kizu.ru/en/blog/flex-baseline/examples/flex-baseline1.png&quot; alt=&quot;Screenshot&quot; title=&quot;Screenshot&quot; /&gt;&lt;/p&gt;&lt;p&gt;&lt;small&gt;Look at the demo &lt;a href=&quot;http://kizu.ru/en/blog/flex-baseline/#Demo_flex-baseline1&quot;&gt;embedded in the post&lt;/a&gt;.&lt;/small&gt;&lt;/p&gt;
&lt;p&gt;You &lt;span class=&quot;Sidenote-Wrapper&quot;&gt;&lt;a class=&quot;Sidenote-Context&quot; href=&quot;#safari&quot; id=&quot;safari&quot;&gt;can see&lt;/a&gt;&lt;span class=&quot;Sidenote&quot; role=&quot;note&quot;&gt;&lt;span class=&quot;Sidenote-Misc&quot;&gt; (&lt;/span&gt;Btw, inÂ theÂ latest Safari theÂ block with &lt;code&gt;overflow&lt;/code&gt; don&amp;#39;t behave according toÂ theÂ specs&lt;span class=&quot;Sidenote-Misc&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;a class=&quot;Sidenote-Close&quot; href=&quot;#x&quot; aria-hidden=&quot;true&quot; role=&quot;presentation&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;/span&gt; where each block has its baseline inÂ this example.&lt;/p&gt;
&lt;h2 id=&quot;inline-table&quot;&gt;inline-table&lt;/h2&gt;
&lt;p&gt;Actually, there was one place inÂ &lt;abbr&gt;CSS&lt;/abbr&gt;, where theÂ baseline aligning worked &lt;em&gt;properly&lt;/em&gt;: &lt;code&gt;display: inline-table&lt;/code&gt;. IfÂ we&amp;#39;d use itÂ instead ofÂ inline-blocks inÂ our example, we&amp;#39;d get almost what weÂ tried toÂ achieve:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://kizu.ru/en/blog/flex-baseline/examples/flex-baseline2.png&quot; alt=&quot;Screenshot&quot; title=&quot;Screenshot&quot; /&gt;&lt;/p&gt;&lt;p&gt;&lt;small&gt;Look at the demo &lt;a href=&quot;http://kizu.ru/en/blog/flex-baseline/#Demo_flex-baseline2&quot;&gt;embedded in the post&lt;/a&gt;.&lt;/small&gt;&lt;/p&gt;
&lt;p&gt;You can see anÂ obvious flaw: theÂ &lt;code&gt;overflow: auto&lt;/code&gt; isÂ not working. AndÂ you shouldn&amp;#39;t forget that you&amp;#39;ll need toÂ have &lt;code&gt;table-layout: fixed&lt;/code&gt;. So, &lt;code&gt;inline-table&lt;/code&gt; isÂ nice asÂ long asÂ weÂ don&amp;#39;t need &lt;code&gt;overflow&lt;/code&gt; other than &lt;code&gt;visible&lt;/code&gt;.&lt;/p&gt;
&lt;h2 id=&quot;trying-flex&quot;&gt;Trying toÂ goÂ flex&lt;/h2&gt;
&lt;p&gt;So, can weÂ doÂ aÂ block both with theÂ proper baseline andÂ with some &lt;code&gt;overflow&lt;/code&gt;? ItÂ seems weÂ can, using &lt;nobr&gt;flexboxesâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;&lt;code&gt;display: inline-flex&lt;/code&gt;. InÂ &lt;a href=&quot;http://www.w3.org/TR/css3-flexbox/#flex-baselines&quot;&gt;theory&lt;/a&gt;, they have aÂ correct baseline position inÂ all complex cases, but what would weÂ get inÂ practice?&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://kizu.ru/en/blog/flex-baseline/examples/flex-baseline3.png&quot; alt=&quot;Screenshot&quot; title=&quot;Screenshot&quot; /&gt;&lt;/p&gt;&lt;p&gt;&lt;small&gt;Look at the demo &lt;a href=&quot;http://kizu.ru/en/blog/flex-baseline/#Demo_flex-baseline3&quot;&gt;embedded in the post&lt;/a&gt;.&lt;/small&gt;&lt;/p&gt;
&lt;p&gt;IfÂ you&amp;#39;d look atÂ this example inÂ any browser other than Firefox, you&amp;#39;ll see nicely aligned blocks (yep, even inÂ IE10 andÂ Opera 12).&lt;/p&gt;
&lt;p&gt;But inÂ FxÂ theÂ block with &lt;code&gt;overflow: auto&lt;/code&gt;, suddenly, behaves just like theÂ inline-&lt;nobr&gt;blocksâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;itÂ loses theÂ baseline. SoÂ sad, this way we&amp;#39;ll need toÂ wait forÂ this &lt;a href=&quot;https://bugzilla.mozilla.org/show_bug.cgi?id=969874&quot;&gt;newly reported bug&lt;/a&gt; toÂ beÂ fixed.&lt;/p&gt;
&lt;h2 id=&quot;another-way&quot;&gt;IsÂ there another way?&lt;/h2&gt;
&lt;p&gt;ItÂ isÂ nice weÂ could align &lt;code&gt;inline-flex&lt;/code&gt; blocks with theÂ baselines ofÂ other blocks, ifÂ only there wasn&amp;#39;t this FxÂ bugâ€¦ But what ifÂ we&amp;#39;d goÂ andÂ try toÂ align not different &lt;code&gt;inline-flex&lt;/code&gt; blocks, but their children?&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://kizu.ru/en/blog/flex-baseline/examples/flex-baseline4.png&quot; alt=&quot;Screenshot&quot; title=&quot;Screenshot&quot; /&gt;&lt;/p&gt;&lt;p&gt;&lt;small&gt;Look at the demo &lt;a href=&quot;http://kizu.ru/en/blog/flex-baseline/#Demo_flex-baseline4&quot;&gt;embedded in the post&lt;/a&gt;.&lt;/small&gt;&lt;/p&gt;
&lt;p&gt;Oh, itÂ works. Butâ€¦ While multiple &lt;code&gt;inline-flex&lt;/code&gt; blocks could wrap onÂ overflow, forÂ elements inside flexbox weÂ would need toÂ use &lt;code&gt;flex-wrap&lt;/code&gt; toÂ wrap them. AndÂ guess what? Firefox didn&amp;#39;t support this property until 28.0.&lt;/p&gt;
&lt;h2 id=&quot;combined&quot;&gt;All together&lt;/h2&gt;
&lt;p&gt;But hey! IfÂ &lt;code&gt;inline-flex&lt;/code&gt; isÂ properly aligned alongside other blocks andÂ the nested block with &lt;code&gt;overflow: auto&lt;/code&gt; also has aÂ proper baseline, then what ifÂ we&amp;#39;d combine those two? WeÂ would add another wrapper inside each element, then move all theÂ paddings andÂ overflow toÂ them:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://kizu.ru/en/blog/flex-baseline/examples/flex-baseline5.png&quot; alt=&quot;Screenshot&quot; title=&quot;Screenshot&quot; /&gt;&lt;/p&gt;&lt;p&gt;&lt;small&gt;Look at the demo &lt;a href=&quot;http://kizu.ru/en/blog/flex-baseline/#Demo_flex-baseline5&quot;&gt;embedded in the post&lt;/a&gt;.&lt;/small&gt;&lt;/p&gt;
&lt;p&gt;InÂ most browsers you won&amp;#39;t see any changes, but when we&amp;#39;ll look atÂ Fx, weÂ would see that theÂ blocks now won&amp;#39;t have baseline atÂ their bottom margin edge. But they won&amp;#39;t have itÂ atÂ theÂ proper place &lt;nobr&gt;eitherâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;they&amp;#39;re shifted from theÂ baseline ofÂ other blocks aÂ little. Let&amp;#39;s measure &lt;nobr&gt;itâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;10 pixels. Hey, itÂ isÂ our padding! ByÂ removing paddings from each side weÂ found that theÂ problem isÂ atÂ theÂ top &lt;nobr&gt;paddingâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;when weÂ remove itÂ everything works great. So, ifÂ theÂ bug isÂ inÂ theÂ padding (&lt;a href=&quot;https://bugzilla.mozilla.org/show_bug.cgi?id=969880&quot;&gt;andÂ IÂ reported itÂ too&lt;/a&gt;), how could weÂ work around it? Let&amp;#39;s remove itÂ andÂ replace with aÂ pseudo-element:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://kizu.ru/en/blog/flex-baseline/examples/flex-baseline6.png&quot; alt=&quot;Screenshot&quot; title=&quot;Screenshot&quot; /&gt;&lt;/p&gt;&lt;p&gt;&lt;small&gt;Look at the demo &lt;a href=&quot;http://kizu.ru/en/blog/flex-baseline/#Demo_flex-baseline6&quot;&gt;embedded in the post&lt;/a&gt;.&lt;/small&gt;&lt;/p&gt;
&lt;p&gt;Perfect!&lt;/p&gt;
&lt;h2 id=&quot;finishing-strokes&quot;&gt;Finishing strokes&lt;/h2&gt;
&lt;p&gt;Well, not perfect. There are two small issues that can appear inÂ IE 10 andÂ Opera 12.&lt;/p&gt;
&lt;p&gt;InÂ IE flexbox with theÂ set width wouldn&amp;#39;t have wrapped text inside ofÂ it. That&amp;#39;s aÂ rather strange bug, but weÂ could work around itÂ byÂ adding &lt;code&gt;width: 100%&lt;/code&gt; orÂ &lt;code&gt;-ms-flex-negative: 1&lt;/code&gt; toÂ theÂ inner element, theÂ latter isÂ better.&lt;/p&gt;
&lt;p&gt;Opera has aÂ similar &lt;nobr&gt;bugâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;theÂ element inside aÂ flexbox would have theÂ width set toÂ content. TheÂ only fix IÂ found isÂ adding &lt;code&gt;flex-direction: column&lt;/code&gt; toÂ flexbox. AsÂ there would beÂ only one element inside our wrapper, itÂ won&amp;#39;t affect anything else.&lt;/p&gt;
&lt;p&gt;There, &lt;span class=&quot;Sidenote-Wrapper&quot;&gt;&lt;a class=&quot;Sidenote-Context&quot; href=&quot;#without-fallbacks&quot; id=&quot;without-fallbacks&quot;&gt;now it&amp;#39;s perfect&lt;/a&gt;&lt;span class=&quot;Sidenote&quot; role=&quot;note&quot;&gt;&lt;span class=&quot;Sidenote-Misc&quot;&gt; (&lt;/span&gt;NoÂ fallbacks forÂ older browsers though, but this slightly falls out ofÂ this post&amp;#39;s scope&lt;span class=&quot;Sidenote-Misc&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;a class=&quot;Sidenote-Close&quot; href=&quot;#x&quot; aria-hidden=&quot;true&quot; role=&quot;presentation&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;, there isÂ theÂ last example with different variants ofÂ blocks andÂ with theÂ wrapping blocks:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://kizu.ru/en/blog/flex-baseline/examples/flex-baseline7.png&quot; alt=&quot;Screenshot&quot; title=&quot;Screenshot&quot; /&gt;&lt;/p&gt;&lt;p&gt;&lt;small&gt;Look at the demo &lt;a href=&quot;http://kizu.ru/en/blog/flex-baseline/#Demo_flex-baseline7&quot;&gt;embedded in the post&lt;/a&gt;.&lt;/small&gt;&lt;/p&gt;
&lt;p&gt;TheÂ resulting code forÂ this example would be:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;.flex {
    display: -ms-inline-flexbox;
    display: -webkit-inline-flex;
    display: inline-flex;

    /* Fixing Opera issue */
    flex-direction: column;

    vertical-align: baseline;
    }

.flex-content {
    padding: 0 10px 10px;
    border: 1px solid lime;

    /* Fixing IE issue */
    -ms-flex-negative: 1;
    }

/* Fixing Fx issue */
.flex-content:before {
    content: &amp;quot;&amp;quot;;
    display: block;
    padding-top: 10px;
    }
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&quot;resume&quot;&gt;Overall&lt;/h2&gt;
&lt;p&gt;Ah, Firefox! Without its bugs (andÂ IE&amp;#39;s one) weÂ could use only one element per block. Also, ifÂ you&amp;#39;ll need just multiline inline blocks, andÂ you&amp;#39;re not afraid ofÂ tables, you could use &lt;code&gt;display: inline-table&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;But, overall, weÂ won. WeÂ can now use baseline vertical aligning forÂ blocks ofÂ any complexity, hooray! But ifÂ you&amp;#39;d want toÂ write even better code inÂ theÂ future, I&amp;#39;d recommend you toÂ goÂ andÂ vote forÂ the &lt;a href=&quot;https://bugzilla.mozilla.org/show_bug.cgi?id=969874&quot;&gt;corresponding&lt;/a&gt; &lt;a href=&quot;https://bugzilla.mozilla.org/show_bug.cgi?id=969880&quot;&gt;bugs&lt;/a&gt; inÂ Bugzilla.&lt;/p&gt;

    </content>
  </entry>
  <entry>
    <title>New Stylus Features</title>
    <link href="http://kizu.ru/en/issues/new-stylus-features/"/>
    <updated>2013-12-05T00:00:00+03:00</updated>
    <id>http://kizu.ru/en/issues/new-stylus-features</id>
    <content type="html">&lt;h1 id=&quot;new-stylus-features&quot;&gt;New Stylus Features&lt;/h1&gt;
&lt;p&gt;Not soÂ long ago IÂ &lt;span class=&quot;Sidenote-Wrapper&quot;&gt;&lt;a class=&quot;Sidenote-Context&quot; href=&quot;#maintaining&quot; id=&quot;maintaining&quot;&gt;became aÂ maintainer&lt;/a&gt;&lt;span class=&quot;Sidenote&quot; role=&quot;note&quot;&gt;&lt;span class=&quot;Sidenote-Misc&quot;&gt; (&lt;/span&gt;I&amp;#39;ll write someday later how this happened andÂ what exactly IÂ doÂ there, but itÂ worth toÂ mention that I&amp;#39;m &lt;em&gt;aÂ maintainer&lt;/em&gt;, but theÂ main &lt;em&gt;developer&lt;/em&gt; now isÂ myÂ colleague &lt;a href=&quot;gh:panya&quot;&gt;Mikhail Korepanov&lt;/a&gt;&lt;span class=&quot;Sidenote-Misc&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;a class=&quot;Sidenote-Close&quot; href=&quot;#x&quot; aria-hidden=&quot;true&quot; role=&quot;presentation&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;/span&gt; forÂ &lt;a href=&quot;https://github.com/LearnBoost/stylus&quot;&gt;Stylus&lt;/a&gt; &lt;abbr&gt;CSS&lt;/abbr&gt; preprocessor. AtÂ theÂ end ofÂ theÂ last week, weÂ released aÂ new &lt;nobr&gt;versionâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;&lt;a href=&quot;https://github.com/LearnBoost/stylus/blob/master/History.md#0410--2013-11-30&quot;&gt;0.41.0&lt;/a&gt;&lt;nobr&gt;â€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;where weÂ added some new features. AndÂ inÂ theÂ two earlier releases weÂ added support forÂ the hashes andÂ polished it, soÂ after all this work itÂ isÂ now possible toÂ doÂ aÂ lot ofÂ interesting new things. InÂ this article, I&amp;#39;ll explain one &lt;span class=&quot;Sidenote-Wrapper&quot;&gt;&lt;a class=&quot;Sidenote-Context&quot; href=&quot;#example-sidenote&quot; id=&quot;example-sidenote&quot;&gt;new tech&lt;/a&gt;&lt;span class=&quot;Sidenote&quot; role=&quot;note&quot;&gt;&lt;span class=&quot;Sidenote-Misc&quot;&gt; (&lt;/span&gt;You can goÂ straight toÂ &lt;a href=&quot;#example&quot;&gt;its &lt;nobr&gt;step-by&lt;/nobr&gt;-step explanation&lt;/a&gt;, orÂ toÂ theÂ &lt;a href=&quot;#result&quot;&gt;resulting code&lt;/a&gt;&lt;span class=&quot;Sidenote-Misc&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;a class=&quot;Sidenote-Close&quot; href=&quot;#x&quot; aria-hidden=&quot;true&quot; role=&quot;presentation&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;/span&gt; that isÂ now possible inÂ theÂ new Stylus, but I&amp;#39;ll describe theÂ new features forÂ aÂ start.&lt;/p&gt;
&lt;h2 id=&quot;block-mixins&quot;&gt;Block mixins&lt;/h2&gt;
&lt;p&gt;Finally! TheÂ thing that was missing from Stylus forÂ soÂ &lt;nobr&gt;longâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;theÂ ability toÂ pass blocks ofÂ Stylus code into mixins andÂ then use those blocks inside theÂ mixins&amp;#39; bodies.&lt;/p&gt;
&lt;p&gt;TheÂ syntax forÂ passing theÂ block isÂ rather simple: weÂ call aÂ mixin using aÂ &lt;code&gt;+&lt;/code&gt; prefix, then weÂ pass theÂ block either inÂ theÂ curly braces, orÂ using aÂ new indent level (asÂ you could doÂ with aÂ lot ofÂ things inÂ Stylus):&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-styl&quot;&gt;+foo()
  // The block we want to pass
  width: 10px
  height: 10px
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;After weÂ passed theÂ block toÂ theÂ mixin, this block becomes available inside ofÂ itÂ asÂ aÂ named &lt;nobr&gt;argumentâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;&lt;code&gt;block&lt;/code&gt;. You can then use itÂ anywhere inside theÂ mixin using &lt;span class=&quot;Sidenote-Wrapper&quot;&gt;&lt;a class=&quot;Sidenote-Context&quot; href=&quot;#block-call&quot; id=&quot;block-call&quot;&gt;anÂ interpolation&lt;/a&gt;&lt;span class=&quot;Sidenote&quot; role=&quot;note&quot;&gt;&lt;span class=&quot;Sidenote-Misc&quot;&gt; (&lt;/span&gt;There isÂ aÂ possibility weÂ would add aÂ way ofÂ using itÂ without interpolation inÂ theÂ future though&lt;span class=&quot;Sidenote-Misc&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;a class=&quot;Sidenote-Close&quot; href=&quot;#x&quot; aria-hidden=&quot;true&quot; role=&quot;presentation&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-styl&quot;&gt;foo()
  width: 20px
  .foo
    {block}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;OrÂ weÂ could pass this asÂ aÂ variable toÂ theÂ next mixin, orÂ use itÂ inÂ any other way.&lt;/p&gt;
&lt;p&gt;Anyway, ifÂ you&amp;#39;ve called aÂ mixin above like this:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-styl&quot;&gt;.bar
  +foo()
    padding: 0
    .baz
      height: 20px
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You would get this:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;.bar {
  width: 20px;
}
.bar .foo {
  padding: 0;
}
.bar .foo .baz {
  height: 20px;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;With block mixins, weÂ have aÂ way ofÂ wrapping blocks with mixins andÂ then wrapping them with anything. This feature isÂ often used forÂ handling media queries, andÂ myÂ example that you&amp;#39;ll see later inÂ this article isÂ also from theÂ &lt;abbr&gt;RWD&lt;/abbr&gt; area.&lt;/p&gt;
&lt;h2 id=&quot;hashes&quot;&gt;Hashes&lt;/h2&gt;
&lt;p&gt;AsÂ IÂ already mentioned, inÂ theÂ latest releases ofÂ Stylus weÂ added (andÂ polished toÂ aÂ usable state) hashes asÂ aÂ data type. Hashes are objects with key-value pairs, andÂ they look rather simple:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;foo = {
  bar: 10px,
  raz: #fff,
  baz: {
    blah: blah
    &amp;#39;10%&amp;#39;: yeah
  }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;AsÂ you can see from this example, theÂ syntax isÂ similar toÂ theÂ objects inÂ JavaScript: theÂ key could beÂ either anÂ indent orÂ aÂ string, andÂ anything could goÂ into value, even nested hashes. AnÂ important part: while you can use ordinary blocks with orÂ without curly braces inÂ Stylus, they are mandatory forÂ hashes, while theÂ trailing commas &lt;span class=&quot;Sidenote-Wrapper&quot;&gt;&lt;a class=&quot;Sidenote-Context&quot; href=&quot;#codestyle&quot; id=&quot;codestyle&quot;&gt;are not&lt;/a&gt;&lt;span class=&quot;Sidenote&quot; role=&quot;note&quot;&gt;&lt;span class=&quot;Sidenote-Misc&quot;&gt; (&lt;/span&gt;AndÂ asÂ with all other optional syntax features ofÂ Stylus, you should use aÂ consistent code style inÂ your stylesheets. Otherwise your code would beÂ messy asÂ hell&lt;span class=&quot;Sidenote-Misc&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;a class=&quot;Sidenote-Close&quot; href=&quot;#x&quot; aria-hidden=&quot;true&quot; role=&quot;presentation&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;Then, after you defined aÂ hash, you could add new properties toÂ itÂ orÂ redefine old ones using dots orÂ square brackets:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-styl&quot;&gt;foo.bar = 20px
foo[&amp;#39;whatever&amp;#39;] = &amp;#39;hello&amp;#39;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;TheÂ differences are simple: while you could use only idents with theÂ dot syntax, with square brackets you could pass any string containing any symbols, orÂ use aÂ variable instead. So, theÂ brackets are more flexible, while theÂ dot isÂ not.&lt;/p&gt;
&lt;p&gt;You can get theÂ values from theÂ hash inÂ theÂ same &lt;nobr&gt;wayâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;either byÂ using aÂ dot orÂ using theÂ square brackets.&lt;/p&gt;
&lt;p&gt;IÂ won&amp;#39;t describe &lt;a href=&quot;http://learnboost.github.io/stylus/docs/hashes.html&quot;&gt;all theÂ features&lt;/a&gt; ofÂ theÂ hashes, I&amp;#39;ll just mention that you can use theÂ &lt;nobr&gt;built-in&lt;/nobr&gt; &lt;code&gt;length()&lt;/code&gt; function with them, you can iterate through them, use them inÂ conditions (&lt;code&gt;if baz in foo&lt;/code&gt;), andÂ there are also some &lt;nobr&gt;built-in&lt;/nobr&gt; functions toÂ work with hashes (&lt;code&gt;keys()&lt;/code&gt;, &lt;code&gt;values()&lt;/code&gt;, &lt;code&gt;merge()&lt;/code&gt;). AndÂ you can interpolate hashes into &lt;abbr&gt;CSS&lt;/abbr&gt;.&lt;/p&gt;
&lt;h2 id=&quot;selector&quot;&gt;&lt;code&gt;selector()&lt;/code&gt; function&lt;/h2&gt;
&lt;p&gt;There isÂ now one small but important feature inÂ &lt;nobr&gt;Stylusâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;&lt;code&gt;selector()&lt;/code&gt;. While you can construct complex selectors inÂ Stylus byÂ using nested blocks, interpolations, mixins andÂ other things, you couldn&amp;#39;t &lt;strong&gt;get&lt;/strong&gt; theÂ compiled selector, they only existed inÂ theÂ compiled &lt;abbr&gt;CSS&lt;/abbr&gt;.&lt;/p&gt;
&lt;p&gt;But now, using &lt;code&gt;selector()&lt;/code&gt; function that returns theÂ currently compiled selector, you could doÂ aÂ lot ofÂ useful things, like check theÂ selector forÂ something using theÂ &lt;code&gt;match()&lt;/code&gt; function, orÂ use itÂ forÂ something else. ItÂ isÂ already very useful, andÂ itÂ would become even more soÂ inÂ future releases.&lt;/p&gt;
&lt;p&gt;AsÂ anÂ example, you can take this small chunk ofÂ code:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-styl&quot;&gt;if match(&amp;#39;:(before|after)&amp;#39;, selector())
  content: &amp;#39;&amp;#39;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Here weÂ check ifÂ theÂ selector has any pseudo-elements inÂ itÂ andÂ ifÂ &lt;nobr&gt;soâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;weÂ apply theÂ &lt;code&gt;content&lt;/code&gt;. This could beÂ useful ifÂ weÂ have some mixin, containing styles that could beÂ applied both toÂ aÂ normal element andÂ toÂ aÂ pseudo one.&lt;/p&gt;
&lt;h2 id=&quot;example&quot;&gt;Example with cached media queries&lt;/h2&gt;
&lt;p&gt;AsÂ aÂ usage example ofÂ theÂ new Stylus features, I&amp;#39;ll give you aÂ solution forÂ one ofÂ those small, responsive web design problems: theÂ code you need toÂ write forÂ different viewport breakpoints. TheÂ problem isÂ that theÂ syntax ofÂ media queries could beÂ rather long, soÂ you could either use bubbling media queries which would result inÂ not ideal &lt;abbr&gt;CSS&lt;/abbr&gt;, or, inÂ theÂ race forÂ bytes, you&amp;#39;ll need toÂ write all theÂ overrides inÂ one place, andÂ that won&amp;#39;t beÂ very comfortable inÂ aÂ lot ofÂ situations.&lt;/p&gt;
&lt;p&gt;However, inÂ theÂ new Stylus, with block mixins, hashes andÂ the &lt;code&gt;selector()&lt;/code&gt; function, you could work around this problem (andÂ solve some others onÂ your way toÂ it).&lt;/p&gt;
&lt;p&gt;&lt;nobr&gt;Brieflyâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;weÂ can create aÂ mixin that could beÂ used instead ofÂ media queries andÂ would cache theÂ given blocks, combining them byÂ conditions, soÂ you could then output all ofÂ them using theÂ second function.&lt;/p&gt;
&lt;p&gt;TheÂ only downside ofÂ this method isÂ theÂ grouping &lt;nobr&gt;itselfâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;theÂ selectors would beÂ inÂ aÂ different order, soÂ theÂ specificity ofÂ theÂ selectors could change.&lt;/p&gt;
&lt;p&gt;ForÂ the start weÂ need anÂ object where weÂ would store theÂ cached blocks:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-styl&quot;&gt;$media_cache = {}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Then weÂ would need aÂ mixin which weÂ could use instead ofÂ media queries; its basic form would beÂ this:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-styl&quot;&gt;media($condition)
  unless $media_cache[$condition]
    $media_cache[$condition] = ()
  push($media_cache[$condition], block)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This mixin&amp;#39;s logic isÂ rather simple: ifÂ weÂ don&amp;#39;t have aÂ list ofÂ theÂ blocks forÂ aÂ given condition, weÂ initialize itÂ then weÂ pass theÂ block toÂ this list.&lt;/p&gt;
&lt;p&gt;ItÂ won&amp;#39;t beÂ enough forÂ usÂ actually: this mixin could beÂ used only this way:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-styl&quot;&gt;+media(&amp;#39;(max-width:640px)&amp;#39;)
  .foo
    display: block;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;WeÂ could only pass full blocks toÂ it, but couldn&amp;#39;t use theÂ bubbling:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-styl&quot;&gt;.foo
  +media(&amp;#39;(max-width:640px)&amp;#39;)
    display: block;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;TheÂ code ofÂ our &lt;code&gt;media&lt;/code&gt; mixin doesn&amp;#39;t know anything about theÂ context, theÂ selector where weÂ called &lt;nobr&gt;itâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;yet. Here theÂ new &lt;code&gt;selector()&lt;/code&gt; function andÂ anÂ extra helper mixin are required, andÂ with them &lt;code&gt;media&lt;/code&gt; mixin would look like this:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-styl&quot;&gt;media($condition)
  helper($condition)
    unless $media_cache[$condition]
      $media_cache[$condition] = ()
    push($media_cache[$condition], block)

  +helper($condition)
    {selector()}
      {block}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ToÂ save theÂ context weÂ move theÂ initial code ofÂ this mixin inside aÂ helper mixin, then call itÂ passing theÂ &lt;code&gt;block&lt;/code&gt; inside theÂ interpolated&lt;code&gt;selector()&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;So, asÂ weÂ now wrap theÂ code with aÂ mixin, itÂ won&amp;#39;t build automatically. WeÂ would need toÂ call aÂ function that would take aÂ cache andÂ put all itÂ contains where weÂ call itÂ (andÂ itÂ would beÂ logical toÂ call itÂ atÂ theÂ end ofÂ our stylesheet):&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-styl&quot;&gt;apply_media_cache()
  for $media, $blocks in $media_cache
    @media $media
      for $block in $blocks
        {$block}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ItÂ isÂ rather easy: weÂ iterate through theÂ cache, taking theÂ &lt;nobr&gt;conditionâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;&lt;code&gt;$media&lt;/code&gt;, andÂ the list ofÂ all theÂ blocks that were called with &lt;nobr&gt;itâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;&lt;code&gt;$blocks&lt;/code&gt;, then weÂ create theÂ media query with that condition andÂ inside ofÂ itÂ iterate through all theÂ blocks, yielding all ofÂ them one byÂ one.&lt;/p&gt;
&lt;p&gt;So, ifÂ weÂ would then call this function atÂ theÂ end ofÂ theÂ document:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-styl&quot;&gt;apply_media_cache()
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;WeÂ would get what weÂ want.&lt;/p&gt;
&lt;p&gt;However, there are aÂ few things toÂ improve inÂ this function: weÂ doÂ not want always toÂ write theÂ parentheses, and, actually, weÂ won&amp;#39;t want toÂ write all those &lt;code&gt;only screen and&lt;/code&gt;. Also, weÂ would want toÂ use some keywords instead ofÂ theÂ literal conditions, like &lt;span class=&quot;Sidenote-Wrapper&quot;&gt;&lt;a class=&quot;Sidenote-Context&quot; href=&quot;#keywords&quot; id=&quot;keywords&quot;&gt;&lt;code&gt;palm&lt;/code&gt;, &lt;code&gt;portable&lt;/code&gt;, &lt;code&gt;desk&lt;/code&gt;&lt;/a&gt;&lt;span class=&quot;Sidenote&quot; role=&quot;note&quot;&gt;&lt;span class=&quot;Sidenote-Misc&quot;&gt; (&lt;/span&gt;I&amp;#39;ve taken theÂ names from theÂ great &lt;a href=&quot;http://inuitcss.com/&quot;&gt;inuit.css&lt;/a&gt; framework byÂ &lt;a href=&quot;@csswizardry&quot;&gt;Harry Roberts&lt;/a&gt;&lt;span class=&quot;Sidenote-Misc&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;a class=&quot;Sidenote-Close&quot; href=&quot;#x&quot; aria-hidden=&quot;true&quot; role=&quot;presentation&quot; tabindex=&quot;-1&quot;&gt;&lt;/a&gt;&lt;/span&gt; andÂ soÂ on. With those improvements andÂ all theÂ previous steps theÂ resulting code would beÂ this:&lt;/p&gt;
&lt;h3 id=&quot;result&quot;&gt;Resulting code&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&quot;language-styl&quot;&gt;// Define the cache and the aliases
$media_cache = {}
$media_aliases = {
  palm:       &amp;#39;(max-width: 480px)&amp;#39;
  lap:        &amp;#39;(min-width: 481px) and (max-width: 1023px)&amp;#39;
  lap-and-up: &amp;#39;(min-width: 481px)&amp;#39;
  portable:   &amp;#39;(max-width: 1023px)&amp;#39;
  desk:       &amp;#39;(min-width: 1024px)&amp;#39;
  desk-wide:  &amp;#39;(min-width: 1200px)&amp;#39;
}

// Mixin for caching the blocks with the given conditions
media($condition)
  helper($condition)
    unless $media_cache[$condition]
      $media_cache[$condition] = ()
    push($media_cache[$condition], block)

  +helper($condition)
    {selector() + &amp;#39;&amp;#39;}
      {block}

// Function we would use to call all the cached styles
apply_media_cache()
  for $media, $blocks in $media_cache
    $media = unquote($media_aliases[$media] || $media)
    $media = &amp;#39;(%s)&amp;#39; % $media unless match(&amp;#39;\(&amp;#39;, $media)
    $media = &amp;#39;only screen and %s&amp;#39; % $media
    @media $media
      for $block in $blocks
        {$block}

// Here would be our main styles, using the `media` mixin
// â€¦

// Here we call all the cached styles
apply_media_cache()
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Then weÂ could write our stylesheets like this:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-styl&quot;&gt;.foo
  width: 10px

  +media(&amp;#39;lap&amp;#39;)
    width: 20px

  +media(&amp;#39;desk&amp;#39;)
    width: 30px

  +media(&amp;#39;min-width: 200px&amp;#39;)
    width: 60px

.bar
  height: 10px

  +media(&amp;#39;lap&amp;#39;)
    height: 20px

  +media(&amp;#39;desk&amp;#39;)
    height: 30px

  +media(&amp;#39;min-width: 200px&amp;#39;)
    height: 50px

  +media(&amp;#39;(min-width: 500px) and (max-width: 700px)&amp;#39;)
    height: 50px
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;AndÂ get this result afterwards:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;.foo {
  width: 10px;
}
.bar {
  height: 10px;
}
@media only screen and (min-width: 481px) and (max-width: 1023px) {
  .foo {
    width: 20px;
  }
  .bar {
    height: 20px;
  }
}
@media only screen and (min-width: 1024px) {
  .foo {
    width: 30px;
  }
  .bar {
    height: 30px;
  }
}
@media only screen and (min-width: 200px) {
  .foo {
    width: 60px;
  }
  .bar {
    height: 50px;
  }
}
@media only screen and (min-width: 500px) and (max-width: 700px) {
  .bar {
    height: 50px;
  }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;InÂ theÂ resulting code, weÂ can see that weÂ added theÂ hash with aliases, weÂ can also call theÂ mixin with conditions lacking parentheses.&lt;/p&gt;
&lt;p&gt;ByÂ using this code weÂ can now use media queries bubbling anywhere weÂ want andÂ don&amp;#39;t even need toÂ think about theÂ extra &lt;nobr&gt;bytesâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;everything would beÂ nicely grouped inside non-doubling media queries. All thanks toÂ theÂ new Stylus features.&lt;/p&gt;
&lt;p&gt;OfÂ course, this code isÂ not ideal, andÂ there could beÂ aÂ lot ofÂ ways toÂ improve it, but myÂ goal was toÂ demonstrate theÂ new features andÂ how they work, after all.&lt;/p&gt;

    </content>
  </entry>
  <entry>
    <title>Updated Jekyll</title>
    <link href="http://kizu.ru/en/blog/updated-jekyll/"/>
    <updated>2013-06-05T00:00:00+03:00</updated>
    <id>http://kizu.ru/en/blog/updated-jekyll</id>
    <content type="html">&lt;h1 id=&quot;updated-jekyll&quot;&gt;Updated Jekyll&lt;/h1&gt;
&lt;p&gt;Not that long ago Jekyll become that &lt;nobr&gt;bigâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;version â€œ1.0â€ &lt;a href=&quot;https://github.com/blog/1502-jekyll-turns-1-0&quot;&gt;was released&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;There are aÂ lot ofÂ stuff inÂ &lt;a href=&quot;https://github.com/mojombo/jekyll/blob/master/History.markdown#100â€”2013-05-06&quot;&gt;theÂ changelog&lt;/a&gt;: there are new features, there are aÂ lot ofÂ fixes. You can read what&amp;#39;s theÂ most important &lt;a href=&quot;http://jekyllrb.com/docs/upgrading/&quot;&gt;inÂ this article&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;IÂ moved myÂ site toÂ this version. Well, not actually &lt;em&gt;moved&lt;/em&gt;&lt;nobr&gt;â€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;everything worked anyway, but there were some stuff inÂ aÂ new version that IÂ could use toÂ make things inÂ aÂ better way. So, I&amp;#39;ll write aÂ bit onÂ what IÂ personally liked inÂ this new version.&lt;/p&gt;
&lt;h2 id=&quot;page-path&quot;&gt;&lt;code&gt;page.path&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;It&amp;#39;s one ofÂ those things IÂ wanted theÂ Jekyll toÂ &lt;nobr&gt;haveâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;IÂ even &lt;a href=&quot;https://github.com/mojombo/jekyll/issues/633#issuecomment-11678912&quot;&gt;pinged developers aÂ bit&lt;/a&gt; inÂ aÂ corresponding issue atÂ GitHub.&lt;/p&gt;
&lt;p&gt;Old version ofÂ Jekyll had one flaw: there were noÂ ways toÂ retrieve theÂ path ofÂ theÂ source files forÂ pages orÂ blog posts. Why isÂ this important? TheÂ blog orÂ aÂ site that&amp;#39;s hosted atÂ GitHub would profit aÂ lot from giving aÂ way forÂ its users toÂ edit theÂ content. ToÂ make itÂ really easy itÂ would beÂ handy toÂ provide aÂ link that would goÂ either straight toÂ theÂ GitHub&amp;#39;s edit file page, orÂ atÂ any other service that provides such possibility, like prose.io (which IÂ use). This link would need toÂ have theÂ url toÂ theÂ source encoded inÂ it; without proper method toÂ doÂ itÂ there were only theÂ dirtiest hacks available toÂ implement this behavior.&lt;/p&gt;
&lt;p&gt;AndÂ now itÂ became really &lt;nobr&gt;simpleâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;theÂ data ofÂ theÂ posts andÂ pages now contains theÂ &lt;code&gt;path&lt;/code&gt; variable, which contains theÂ path toÂ theÂ source ofÂ theÂ page. Hooray!&lt;/p&gt;
&lt;h2 id=&quot;absolute-permalinks&quot;&gt;Absolute permalinks&lt;/h2&gt;
&lt;p&gt;Permalinks set inÂ &lt;abbr&gt;YAML&lt;/abbr&gt; front matter were relative before. Even more, you couldn&amp;#39;t set them toÂ point atÂ theÂ upper levels, like using &lt;code&gt;../&lt;/code&gt; (orÂ IÂ couldn&amp;#39;t find how toÂ make itÂ work). But inÂ aÂ new Jekyll you could use absolute permalinks. Actually, right now, inÂ 1.0, you need toÂ enable them inÂ theÂ config using &lt;code&gt;relative_permalinks:false&lt;/code&gt;, but with 1.1 this would beÂ theÂ default behavior. So, ifÂ you&amp;#39;re using relative permalinks now andÂ don&amp;#39;t want them toÂ become absolute atÂ one moment, you&amp;#39;ll need toÂ either change them toÂ absolute ones, orÂ just set theÂ &lt;code&gt;relative_permalinks:true&lt;/code&gt;, soÂ nothing would goÂ wrong when 1.1 would beÂ there.&lt;/p&gt;
&lt;p&gt;Absolute permalinks made aÂ lot ofÂ things easier forÂ &lt;nobr&gt;meâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;IÂ could move all index pages forÂ categories etc. toÂ aÂ single folder, forÂ example.&lt;/p&gt;
&lt;h2 id=&quot;changed-syntax-in-cli&quot;&gt;Changed syntax inÂ &lt;abbr&gt;CLI&lt;/abbr&gt;&lt;/h2&gt;
&lt;p&gt;New Jekyll comes with changed syntax inÂ &lt;abbr&gt;CLI&lt;/abbr&gt;, andÂ one ofÂ theÂ most interesting features isÂ anÂ ability toÂ use additional configs.&lt;/p&gt;
&lt;p&gt;IfÂ you&amp;#39;d like toÂ run Jekyll with both theÂ default config &lt;code&gt;_config.yml&lt;/code&gt; andÂ anÂ extra one, like &lt;code&gt;_config-dev.yml&lt;/code&gt;, you could run Jekyll this way:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;jekyll serve --config _config.yml,_config-dev.yml
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Using this you could easily set upÂ theÂ dev environment, where you could change theÂ absolute urls toÂ beÂ localhost, turn onÂ theÂ display ofÂ theÂ drafts andÂ doÂ anything extra that won&amp;#39;t show upÂ inÂ theÂ production.&lt;/p&gt;
&lt;h2 id=&quot;drafts&quot;&gt;Drafts&lt;/h2&gt;
&lt;p&gt;InÂ new Jekyll you could create proper drafts. IfÂ you&amp;#39;d create aÂ &lt;code&gt;_drafts&lt;/code&gt; folder, its content won&amp;#39;t render byÂ default, but ifÂ you&amp;#39;d run your local copy with &lt;code&gt;--drafts&lt;/code&gt; key inÂ &lt;abbr&gt;CLI&lt;/abbr&gt;, theÂ content ofÂ theÂ drafts would beÂ rendered like ifÂ itÂ had been placed inÂ theÂ &lt;code&gt;_posts&lt;/code&gt; directory. One useful thing here isÂ that you won&amp;#39;t need toÂ set theÂ date inÂ theÂ posts&amp;#39; filename, andÂ when you&amp;#39;d need toÂ publish theÂ draft you&amp;#39;ll just need move theÂ post from theÂ &lt;code&gt;_drafts&lt;/code&gt; toÂ theÂ &lt;code&gt;_posts&lt;/code&gt; andÂ add theÂ date toÂ its filename.&lt;/p&gt;
&lt;p&gt;While I&amp;#39;m not using such drafts right now, it&amp;#39;s looking like aÂ nice feature, soÂ I&amp;#39;ll think ifÂ itÂ could beÂ used forÂ myÂ site.&lt;/p&gt;
&lt;h2 id=&quot;other-stuff&quot;&gt;Other stuff&lt;/h2&gt;
&lt;p&gt;There are aÂ lot ofÂ other things mentioned inÂ &lt;a href=&quot;https://github.com/mojombo/jekyll/blob/master/History.markdown#minor-enhancements-3&quot;&gt;theÂ changelog&lt;/a&gt;, but all that matters forÂ meÂ IÂ mentioned inÂ this post.&lt;/p&gt;
&lt;p&gt;Overall, I&amp;#39;m happy toÂ use Jekyll 1.0 now andÂ recommend itÂ toÂ &lt;nobr&gt;anyoneâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;itÂ become aÂ bit easier toÂ use with all theÂ new stuff.&lt;/p&gt;

    </content>
  </entry>
  <entry>
    <title>Application shortcuts</title>
    <link href="http://kizu.ru/en/blog/application-shortcuts/"/>
    <updated>2013-06-03T00:00:00+03:00</updated>
    <id>http://kizu.ru/en/blog/application-shortcuts</id>
    <content type="html">&lt;h1 id=&quot;application-shortcuts&quot;&gt;Application shortcuts&lt;/h1&gt;
&lt;p&gt;Here isÂ one workflow thing IÂ use all theÂ time andÂ IÂ want toÂ &lt;nobr&gt;shareâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;using keyboard shortcuts toÂ switch between applications.&lt;/p&gt;
&lt;p&gt;Iâ€™m talking not about those system &lt;nobr&gt;shortcutsâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;&lt;code&gt;cmd+tab&lt;/code&gt;/&lt;code&gt;alt+tab&lt;/code&gt;. They are &lt;nobr&gt;awfulâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;because they are modal. You canâ€™t tell atÂ any given time what would beÂ theÂ result ofÂ using such shortcut: those shortcuts switch focus between theÂ recent used apps, soÂ you need toÂ remember which applications you used andÂ inÂ which order. Which could beÂ rather frustrating when you use more than two applications.&lt;/p&gt;
&lt;p&gt;TheÂ solution isÂ rather easy (myÂ colleague Vitaly Harisov shown meÂ itÂ atÂ december 2009): you just need toÂ set aÂ shortcut toÂ any often-used application.&lt;/p&gt;
&lt;p&gt;InÂ 2009 IÂ used Spaces inÂ Mac OS forÂ &lt;nobr&gt;thisâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;you could make aÂ lot ofÂ spaces, each with just one app, andÂ then set upÂ theÂ shortcut forÂ each ofÂ those spaces. WeÂ used shortcuts like &lt;code&gt;option+A&lt;/code&gt;, &lt;code&gt;option+S&lt;/code&gt;, &lt;code&gt;option+D&lt;/code&gt; etc.&lt;nobr&gt;â€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;those keys are always under your fingers, andÂ the symbols youâ€™d get byÂ those native shortcuts are not that useful anyway, soÂ weÂ could live without them.&lt;/p&gt;
&lt;p&gt;Vitaly offered meÂ this layout: inÂ theÂ centre raw ofÂ letters there were shortcuts forÂ browsers, soÂ you could switch between often toÂ check your markup (something had changed there since 2009, but theÂ main idea isÂ clear):&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;option+A&lt;/code&gt;&lt;nobr&gt;â€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;Opera, that was our main browser, soÂ letter &lt;strong&gt;A&lt;/strong&gt;;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;option+S&lt;/code&gt; â€”&lt;strong&gt;S&lt;/strong&gt;afari;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;option+D&lt;/code&gt;&lt;nobr&gt;â€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;IE, &lt;code&gt;D&lt;/code&gt;&lt;nobr&gt;â€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;&amp;#39;cause itÂ was &lt;strong&gt;D&lt;/strong&gt;umb;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;option+F&lt;/code&gt;&lt;nobr&gt;â€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;&lt;strong&gt;F&lt;/strong&gt;irefox.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Other apps were somewhere near:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;option+Q&lt;/code&gt;&lt;nobr&gt;â€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;Terminal, &lt;code&gt;Q&lt;/code&gt;&lt;nobr&gt;â€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;rather close toÂ other shortcuts;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;option+W&lt;/code&gt;&lt;nobr&gt;â€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;Finder, forÂ the same reason;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;option+E&lt;/code&gt;&lt;nobr&gt;â€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;TheÂ main code &lt;strong&gt;E&lt;/strong&gt;ditor.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;IÂ also added shortcuts using &lt;code&gt;shift&lt;/code&gt;, soÂ &lt;code&gt;option+shift+E&lt;/code&gt; went forÂ the secondary code editor, &lt;code&gt;option+shift+A&lt;/code&gt;&lt;nobr&gt;â€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;forÂ the Opera Next etc.&lt;/p&gt;
&lt;p&gt;Right now IÂ have shortcuts forÂ messenger, mail, image editor, iA Writer andÂ aÂ lot ofÂ other stuff IÂ use.&lt;/p&gt;
&lt;p&gt;With one Mac OS version Spaces become worse toÂ use with shortcuts andÂ atÂ theÂ same time IÂ bought great &lt;a href=&quot;http://www.alfredapp.com&quot;&gt;Alfred Powerpack&lt;/a&gt;, which had aÂ very handy way toÂ set any apps orÂ files toÂ keyboard shortcuts. With Alfred theÂ setup ofÂ such shortcuts become soÂ much easier, IÂ got theÂ sync forÂ those settings across myÂ two MacBooks using Dropbox, andÂ the switch between apps become even faster than with Spaces (even after disabling theÂ space switching animation). AsÂ IÂ know, there are aÂ bunch ofÂ similar apps forÂ Mac like &lt;a href=&quot;http://qsapp.com/&quot;&gt;QuickSilver&lt;/a&gt; orÂ &lt;a href=&quot;http://www.boastr.de&quot;&gt;BetterTouchTool&lt;/a&gt;, that can doÂ theÂ same trick. IÂ think there should beÂ apps forÂ other OS like this, soÂ ifÂ there &lt;nobr&gt;areâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;write meÂ andÂ Iâ€™ll add them here.&lt;/p&gt;
&lt;p&gt;Anyway, you really should try &lt;nobr&gt;themâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;your workflow would beÂ soÂ much faster andÂ seamless with them:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;When youâ€™ll need toÂ switch toÂ any app, you&amp;#39;ll just press its keys. You donâ€™t need toÂ remember which app you used before, ifÂ itÂ isÂ already launched orÂ not (Alfred would launch itÂ forÂ you ifÂ itâ€™s not) andÂ about aÂ lot ofÂ other needless hassles.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Itâ€™s way much faster andÂ easier than using other ways ofÂ &lt;nobr&gt;switchingâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;like using your mouse orÂ touchpad, orÂ calling apps using Spotlight, Quicksilver orÂ Alfred prompts.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;AndÂ ifÂ youâ€™d use theÂ same shortcuts inÂ teams, itÂ would beÂ really easy toÂ come andÂ show anything onÂ your colleaguesâ€™ &lt;nobr&gt;machinesâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;youâ€™ll know what toÂ press toÂ get theÂ kind ofÂ app you need, even ifÂ your friends uses vim instead ofÂ your lovely ST, orÂ another browser, orÂ anything else. AndÂ they could have Dock hidden inÂ aÂ place youâ€™d never guess (orÂ another monitor). But with theÂ agreement onÂ theÂ common shortcuts forÂ apps you could just work with their environment asÂ with yours.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;

    </content>
  </entry>
  <entry>
    <title>â€œBlogâ€</title>
    <link href="http://kizu.ru/en/blog/hello-blog/"/>
    <updated>2013-05-07T00:00:00+03:00</updated>
    <id>http://kizu.ru/en/blog/hello-blog</id>
    <content type="html">&lt;h1 id=&quot;-blog-&quot;&gt;â€œBlogâ€&lt;/h1&gt;
&lt;p&gt;Hello! AsÂ IÂ wrote inÂ aÂ &lt;a href=&quot;/en/issues/restart/&quot;&gt;post onÂ theÂ relaunch ofÂ myÂ site&lt;/a&gt;, theÂ main goal forÂ the new version was toÂ ease theÂ process ofÂ adding new entries. However, beyond theÂ technical side IÂ completely forgot about &lt;em&gt;what exactly&lt;/em&gt; IÂ wanted toÂ write inÂ that easy andÂ simple way.&lt;/p&gt;
&lt;p&gt;Until today everything IÂ published onÂ myÂ site could beÂ divided toÂ two categories: &lt;a href=&quot;/issues/&quot;&gt;â€œissuesâ€&lt;/a&gt; andÂ &lt;a href=&quot;/fun/&quot;&gt;â€œexperimentsâ€&lt;/a&gt;. InÂ â€œissuesâ€ IÂ tried toÂ publish mostly objective things with all theÂ proper arguments andÂ thoughts went through aÂ lot ofÂ thinking. Maybe those things could beÂ called â€œarticlesâ€, but IÂ donâ€™t like this word. InÂ â€œexperimentsâ€went all those things like prototypes forÂ different interesting things, made mostly just forÂ fun, not asÂ production solutions, almost without any descriptions whatsoever. While &lt;em&gt;now&lt;/em&gt; IÂ see aÂ bit ofÂ sense inÂ describing things (like IÂ did with myÂ experiment onÂ &lt;a href=&quot;:rotated-text&quot;&gt;rotated text&lt;/a&gt;), IÂ still donâ€™t like theÂ style ofÂ &lt;nobr&gt;step-by&lt;/nobr&gt;-step tutorials that describe every letter here andÂ there. So, those things IÂ publish asÂ â€œexperimentsâ€ couldnâ€™t goÂ into â€œissuesâ€.&lt;/p&gt;
&lt;p&gt;So, why did IÂ made itÂ easy toÂ write posts forÂ myÂ site? Itâ€™s because IÂ wanted toÂ write &lt;em&gt;more often&lt;/em&gt;. Not toÂ publish articles orÂ experiments (not that often forÂ those), but toÂ maintain aÂ &lt;em&gt;blog&lt;/em&gt;. Not toÂ post objective, complicated things, not forÂ some crazy experiments with hardcore code, but toÂ have aÂ platform where IÂ could share something simple, something casual maybe. Simple ideas, thoughts, critics forÂ stuff thatâ€™s going onÂ inÂ theÂ todayâ€™s frontend world.&lt;/p&gt;
&lt;p&gt;When itÂ was hard toÂ publish aÂ new post onÂ aÂ site IÂ didnâ€™t thought ofÂ itÂ asÂ aÂ blog, but then IÂ came toÂ itÂ andÂ remade myÂ site from scratch, but inÂ aÂ process I, again, forgot why IÂ did all those things toÂ Jekyll andÂ &lt;nobr&gt;myselfâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;forgot that IÂ wanted itÂ there forÂ the short andÂ simple posts. So, after theÂ relaunch ofÂ aÂ site there were not that much ofÂ new posts, but atÂ theÂ same time there were aÂ lot ofÂ drafts andÂ sketches forÂ them. IÂ forgot that you could post things not polished toÂ theÂ shining, but short, rough andÂ unfinished posts (andÂ Iâ€™ll complete all those drafts andÂ publish them someday, but IÂ wonâ€™t haste myself andÂ would doÂ itÂ properly, without aÂ hard schedule).&lt;/p&gt;
&lt;p&gt;AndÂ now IÂ remembered about all those thing, andÂ here itÂ &lt;nobr&gt;isâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;&lt;nobr&gt;blogâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;aÂ new category onÂ myÂ site. Well, â€œcategoryâ€ isÂ aÂ strong word here, itâ€™s just aÂ way toÂ cheat onÂ myself andÂ make meÂ toÂ write those &lt;nobr&gt;not-so&lt;/nobr&gt;-long things. TheÂ fact isÂ all those posts would still goÂ toÂ &lt;a href=&quot;http://feeds.feedburner.com/kizuruen&quot; title=&quot;Atom actually, but is there a better term for it?&quot;&gt;&lt;abbr&gt;RSS&lt;/abbr&gt;&lt;/a&gt;, IÂ still would share them onÂ twitter, soÂ nothing new there forÂ you, except all those posts Iâ€™ll write actually.&lt;/p&gt;
&lt;p&gt;So, hooray, here itÂ is, aÂ blog. Iâ€™ll try toÂ post here some stupid things often :)&lt;/p&gt;

    </content>
  </entry>
  <entry>
    <title>Rotated text</title>
    <link href="http://kizu.ru/en/fun/rotated-text/"/>
    <updated>2013-04-30T00:00:00+03:00</updated>
    <id>http://kizu.ru/en/fun/rotated-text</id>
    <content type="html">&lt;h1 id=&quot;rotated-text&quot;&gt;Rotated text&lt;/h1&gt;
&lt;p&gt;Once IÂ already shared this solution onÂ twitter, but this time Iâ€™m going toÂ write aÂ bit more onÂ it.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;TheÂ task&lt;/strong&gt; isÂ toÂ get theÂ text rotated byÂ 90 degrees.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;TheÂ problem&lt;/strong&gt;: itâ€™s widely known that when you use &lt;code&gt;transform&lt;/code&gt;, theÂ block behaves similar toÂ theÂ &lt;code&gt;position:relative&lt;/code&gt;&lt;nobr&gt;â€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;its place inÂ theÂ flow isÂ not changed after theÂ transformation, soÂ theÂ change isÂ only visual.&lt;/p&gt;
&lt;p&gt;However, rather often youâ€™ll &lt;em&gt;need&lt;/em&gt; toÂ rotate theÂ block inÂ aÂ way theÂ flow would change either. Like ifÂ weâ€™d want toÂ put some rotated blocks inÂ aÂ row, orÂ ifÂ weâ€™d want toÂ have vertical headers inÂ &lt;nobr&gt;tablesâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;inÂ those cases weÂ would need theÂ height ofÂ theÂ block toÂ beÂ its width after theÂ rotate andÂ vice versa.&lt;/p&gt;
&lt;p&gt;IÂ managed toÂ make this work with one &lt;nobr&gt;assumptionâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;weÂ would need toÂ know theÂ height ofÂ theÂ rotated element. InÂ such case theÂ solution would beÂ rather simple:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;WeÂ would need toÂ have anÂ extra element. &lt;abbr&gt;HTML&lt;/abbr&gt; forÂ each block would beÂ like this:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-html&quot;&gt; &amp;lt;span class=&amp;quot;rotated-text&amp;quot;&amp;gt;
     &amp;lt;span class=&amp;quot;rotated-text__inner&amp;quot;&amp;gt;
         Rotated foo
     &amp;lt;/span&amp;gt;
 &amp;lt;/span&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Wrapper would get those styles:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt; .rotated-text {
     display: inline-block;
     overflow: hidden;

     width: 1.5em;
     line-height: 1.5;
 }
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt; Here weÂ make our element toÂ beÂ inline-block (thatâ€™s not critical, theÂ block display would work too, but inline-block isÂ often handier), then weÂ remove all theÂ extra things using overflow (weÂ would need this later) andÂ set theÂ width toÂ theÂ current elementsâ€™ &lt;nobr&gt;heightâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;theÂ mentioned assumption (andÂ &lt;code&gt;line-height&lt;/code&gt; isÂ placed here asÂ anÂ example ofÂ what defines theÂ blocksâ€™ height).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Then weÂ make theÂ inner element toÂ beÂ inline-block too, soÂ its width would beÂ collapsed toÂ its content. After this weÂ make itÂ have &lt;code&gt;white-space:nowrap&lt;/code&gt;, soÂ nothing would wrap (because ofÂ theÂ fixed width inÂ theÂ previous step), andÂ then weÂ actually rotate theÂ block from theÂ left top corner using &lt;code&gt;transform-origin&lt;/code&gt; (forÂ readability theÂ transform properties are given without proper prefixes):&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt; .rotated-text__inner {
     display: inline-block;
     white-space: nowrap;

     transform: translate(0,100%) rotate(-90deg);
     transform-origin: 0 0;
 }
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;AndÂ now theÂ key part ofÂ myÂ solution: weÂ need toÂ make this inner element toÂ beÂ &lt;em&gt;square&lt;/em&gt;&lt;nobr&gt;â€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;this would make theÂ resulting element toÂ have theÂ height ofÂ its width, andÂ the width would beÂ equal toÂ theÂ assumed height onÂ theÂ wrapper. So, toÂ make anÂ element squarish weÂ use this trick:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt; .rotated-text__inner:after {
     content: &amp;quot;&amp;quot;;
     float: left;
     margin-top: 100%;
 }
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt; Not that hard, but not aÂ lot ofÂ people remember that top andÂ bottom paddings andÂ margins set inÂ percents are using theÂ width ofÂ theÂ parent element, not its height. This behavior isÂ not widely used, but here isÂ aÂ case where itâ€™s useful atÂ last.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;So, inÂ theÂ end weÂ got aÂ square element, whose width isÂ hidden byÂ theÂ overflow onÂ wrapper andÂ this element could beÂ used inÂ any context, soÂ itÂ would beÂ affected byÂ &lt;code&gt;text-align&lt;/code&gt; orÂ &lt;code&gt;vertical-align&lt;/code&gt;. ItÂ isÂ rather â€œfairâ€ rotated block.&lt;/p&gt;
&lt;p&gt;AndÂ just some basic examples ofÂ usage:&lt;/p&gt;
&lt;h2 id=&quot;table-headers&quot;&gt;Table headers&lt;/h2&gt;
&lt;p&gt;AnÂ obvious &lt;nobr&gt;exampleâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;compact table headers what donâ€™t take that much ofÂ horizontal space:&lt;/p&gt;
&lt;p&gt;Look at the demo &lt;a href=&quot;http://kizu.ru/en/fun/rotated-text/#Demo_rotated-text&quot;&gt;embedded in the post&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&quot;-bookshelf-&quot;&gt;â€œBookshelfâ€&lt;/h2&gt;
&lt;p&gt;AsÂ all theÂ rotated blocks have fair place inÂ aÂ flow, you could arrange them inÂ aÂ row soÂ they wonâ€™t overlap each other andÂ the height ofÂ theÂ whole row would beÂ equal toÂ theÂ â€œhighestâ€ ofÂ them:&lt;/p&gt;
&lt;p&gt;Look at the demo &lt;a href=&quot;http://kizu.ru/en/fun/rotated-text/#Demo_rotated-text_books&quot;&gt;embedded in the post&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;So, thatâ€™s it.&lt;/p&gt;
&lt;p&gt;Once again: weÂ need toÂ know theÂ initial height ofÂ theÂ rotated block, soÂ ifÂ weâ€™d need toÂ rotate multiline blocks, weâ€™d need toÂ change their resulting width accordingly.&lt;/p&gt;
&lt;p&gt;Also, this method could work inÂ &lt;nobr&gt;IEâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;byÂ adding matrix filter andÂ converting aÂ pseudo-element toÂ anÂ actual &lt;nobr&gt;oneâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;but Iâ€™m lazy enough toÂ doÂ this. But ifÂ youâ€™d like, you could make itÂ byÂ yourself andÂ even submit aÂ Pull Requests toÂ &lt;a href=&quot;https://github.com/kizu/kizu.github.com/blob/master/demos/rotated-text.html&quot;&gt;those&lt;/a&gt; &lt;a href=&quot;https://github.com/kizu/kizu.github.com/blob/master/demos/rotated-text_books.html&quot;&gt;examples&lt;/a&gt; :)&lt;/p&gt;

    </content>
  </entry>
  <entry>
    <title>Markdowning YAML for Jekyll</title>
    <link href="http://kizu.ru/en/issues/markdowning-yaml/"/>
    <updated>2013-04-21T00:00:00+03:00</updated>
    <id>http://kizu.ru/en/issues/markdowning-yaml</id>
    <content type="html">&lt;h1 id=&quot;markdowning-yaml-for-jekyll&quot;&gt;Markdowning &lt;abbr&gt;YAML&lt;/abbr&gt; forÂ Jekyll&lt;/h1&gt;
&lt;p&gt;While Iâ€™m struggling toÂ write aÂ lengthy article, here isÂ aÂ small one, onÂ aÂ little Jekyll trick IÂ use.&lt;/p&gt;
&lt;p&gt;InÂ Jekyll you need toÂ use &lt;abbr&gt;YAML&lt;/abbr&gt; front matter toÂ add any metadata toÂ theÂ post orÂ page. Actually, Jekyll â€œseesâ€ only those files that have theÂ &lt;abbr&gt;YAML&lt;/abbr&gt; front matter, soÂ itÂ isÂ aÂ somewhat important thing.&lt;/p&gt;
&lt;p&gt;Most ofÂ theÂ time this front matter would look like this:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-yaml&quot;&gt;---
layout: docs
title: Resources
prev_section: sites
---
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ItÂ could seem toÂ beÂ ok. However, asÂ IÂ use Jekyll right onÂ GitHub, myÂ perfectionism tells meÂ that theÂ source ofÂ all myÂ posts inÂ markdown should look perfect when looked atÂ GitHub. AndÂ itÂ would render all theÂ markdown documents instead ofÂ showing their content. So, theÂ &lt;abbr&gt;YAML&lt;/abbr&gt; front matter inÂ that case would look like this:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://img-fotki.yandex.ru/get/6430/1076905.1/0_9789a_239b2fc2_orig.png&quot; alt=&quot;Bad code&quot;&gt;&lt;/p&gt;
&lt;p&gt;Not that readable, huh? AndÂ the last line suddenly became aÂ &lt;nobr&gt;headerâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;IÂ donâ€™t think itâ€™s what weÂ could want there.&lt;/p&gt;
&lt;p&gt;However, itÂ can beÂ fixed with ease: you just need toÂ add some extra lines &lt;nobr&gt;in-between&lt;/nobr&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-yaml&quot;&gt;---

layout: docs

title: Resources

prev_section: sites

---
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;AndÂ this would look soÂ much better atÂ GitHub:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://img-fotki.yandex.ru/get/5625/1076905.1/0_97899_16bfcbbf_orig.png&quot; alt=&quot;Good code&quot;&gt;&lt;/p&gt;
&lt;p&gt;Instead ofÂ aÂ useless header weÂ would get &lt;abbr&gt;YAML&lt;/abbr&gt; nicely separated from content, andÂ every line would become aÂ paragraph there.&lt;/p&gt;
&lt;p&gt;AsÂ most ofÂ posts wonâ€™t have aÂ lot ofÂ metadata, those extra lines wonâ€™t bloat theÂ code. And, inÂ myÂ opinion, this code style isÂ also more readable when youâ€™re working with actual code, soÂ IÂ donâ€™t see any reasons why you shouldnâ€™t use itÂ all theÂ time forÂ &lt;abbr&gt;YAML&lt;/abbr&gt; front matters.&lt;/p&gt;
&lt;p&gt;TheÂ only thing IÂ donâ€™t like there isÂ that &lt;abbr&gt;YAML&lt;/abbr&gt; isÂ soÂ strict. You canâ€™t add indents inÂ theÂ front ofÂ data, orÂ use lists with hyphens &lt;nobr&gt;hereâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;those could beÂ rendered even nicer. Also, ifÂ someone would see any other possibility toÂ enhance theÂ readability ofÂ theÂ &lt;abbr&gt;YAML&lt;/abbr&gt; front &lt;nobr&gt;mattersâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;tell meÂ via twitter orÂ byÂ issues onÂ GitHub.&lt;/p&gt;

    </content>
  </entry>
  <entry>
    <title>Jekyll</title>
    <link href="http://kizu.ru/en/issues/going-jekyll/"/>
    <updated>2013-01-30T00:00:00+03:00</updated>
    <id>http://kizu.ru/en/issues/going-jekyll</id>
    <content type="html">&lt;h1 id=&quot;jekyll&quot;&gt;Jekyll&lt;/h1&gt;
&lt;p&gt;InÂ aÂ &lt;a href=&quot;/en/issues/restart/&quot;&gt;post onÂ site relaunch&lt;/a&gt; IÂ told Iâ€™ll write aÂ lot ofÂ articles onÂ Jekyll. Thatâ€™s theÂ first post inÂ theÂ series, anÂ introduction.&lt;/p&gt;
&lt;p&gt;IÂ wonâ€™t write onÂ how toÂ install &lt;a href=&quot;https://github.com/mojombo/jekyll&quot;&gt;Jekyll&lt;/a&gt;, how theÂ files are structured there, andÂ soÂ &lt;nobr&gt;onâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;there are already aÂ lot ofÂ articles onÂ that (look forÂ some atÂ theÂ &lt;a href=&quot;#links&quot;&gt;â€œlinksâ€&lt;/a&gt;). ToÂ describe Jekyll briefly, itâ€™s aÂ blog-aware static site generator. AnÂ awesome one.&lt;/p&gt;
&lt;h2 id=&quot;github-pages&quot;&gt;GitHub Pages&lt;/h2&gt;
&lt;p&gt;IÂ need toÂ tell one thing from theÂ start: this andÂ all other future articles would beÂ inÂ theÂ context ofÂ &lt;a href=&quot;http://pages.github.com&quot;&gt;GitHub Pages&lt;/a&gt;. While GitHub allows you toÂ host any static sites onÂ it, there isÂ also aÂ way toÂ host sites wrote with Jekyll. So, theÂ Jekyll isÂ theÂ only way toÂ actually generate something right atÂ GitHub without use ofÂ any other services orÂ any front-end solutions.&lt;/p&gt;
&lt;p&gt;With Jekyll you can just create aÂ file inÂ markdown, add aÂ &lt;abbr&gt;YAML&lt;/abbr&gt; front matter toÂ &lt;nobr&gt;itâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;andÂ start writing. After pushing this file toÂ theÂ repo onÂ GitHub, theÂ whole site would beÂ regenerated andÂ youâ€™ll see theÂ corresponding post both asÂ aÂ page onÂ your site andÂ inÂ all theÂ listings onÂ other pages asÂ well. AndÂ you could push your changes from any place: you could even use just GitHubâ€™s site forÂ this orÂ any web app using GitHubâ€™s &lt;abbr&gt;API&lt;/abbr&gt;.&lt;/p&gt;
&lt;p&gt;AndÂ another thing IÂ need toÂ mention right from theÂ start: aÂ lot ofÂ things Iâ€™ll describe inÂ theÂ next articles could beÂ made &lt;em&gt;soÂ mush&lt;/em&gt; easier using plugins. But IÂ wonâ€™t goÂ anÂ easy &lt;nobr&gt;wayâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;Iâ€™d like toÂ make everything inÂ aÂ way more people could use it: even inÂ places where theÂ plugins are &lt;nobr&gt;disabledâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;asÂ onÂ GitHub Pages.&lt;/p&gt;
&lt;h2 id=&quot;-hello-world-&quot;&gt;â€œHello worldâ€&lt;/h2&gt;
&lt;p&gt;Minimal document youâ€™ll need toÂ generate aÂ site onÂ Jekyll should contain theÂ &lt;a href=&quot;http://en.wikipedia.org/wiki/YAML&quot;&gt;&lt;abbr&gt;YAML&lt;/abbr&gt;&lt;/a&gt; front matter with atÂ least one &lt;nobr&gt;fieldâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;&lt;code&gt;layout&lt;/code&gt; (you could actually make one without it, with empty &lt;abbr&gt;YAML&lt;/abbr&gt; front matter, but inÂ that case your page wonâ€™t have any layout atÂ all). So, theÂ minimal &lt;code&gt;hello-world.md&lt;/code&gt; forÂ Jekyll would look like&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;---
layout: default
---

Hello world!
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;InÂ real world youâ€™d like toÂ add atÂ least aÂ title orÂ some other data, but forÂ the most trivial cases thatâ€™s theÂ minimal code toÂ start from.&lt;/p&gt;
&lt;h2 id=&quot;dates&quot;&gt;Dates&lt;/h2&gt;
&lt;p&gt;One ofÂ theÂ features IÂ like inÂ Jekyll isÂ its format forÂ posts. You need toÂ name theÂ files asÂ &lt;code&gt;YYYY-MM-DD-title&lt;/code&gt; andÂ IÂ think thatâ€™s awesome. ItÂ makes you toÂ maintain aÂ better file hierarchy that would beÂ sorted byÂ date automatically, andÂ also you wonâ€™t need toÂ write theÂ date inÂ theÂ post &lt;nobr&gt;itselfâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;Jekyll would use theÂ date from theÂ filename. Yes, inÂ some cases youâ€™ll want toÂ use theÂ &lt;code&gt;published&lt;/code&gt; field inÂ &lt;abbr&gt;YAML&lt;/abbr&gt; toÂ override theÂ date from theÂ filename, but itâ€™s upÂ toÂ you. InÂ most cases you wonâ€™t need it.&lt;/p&gt;
&lt;h2 id=&quot;prose-io&quot;&gt;Prose.io&lt;/h2&gt;
&lt;p&gt;AndÂ ifÂ you donâ€™t like toÂ fill upÂ &lt;abbr&gt;YAML&lt;/abbr&gt; byÂ yourself, andÂ you donâ€™t want toÂ use any scripts forÂ itÂ (like itâ€™s done inÂ Jekyll Bootstrap), you could use aÂ service like &lt;a href=&quot;http://prose.io&quot;&gt;Prose.io&lt;/a&gt;. This awesome service allows you toÂ &lt;a href=&quot;http://prose.io/help/handbook.html#metadata_defaults&quot;&gt;describe all theÂ metadata defaults&lt;/a&gt; inÂ aÂ config, soÂ when you create aÂ new post using Prose, all theÂ metadata would beÂ filled forÂ you (actually, inÂ most basic cases youâ€™d need toÂ atÂ least look atÂ theÂ metadata, but thatâ€™s another story Iâ€™ll tell someday later).&lt;/p&gt;
&lt;h2 id=&quot;links&quot;&gt;Links&lt;/h2&gt;
&lt;p&gt;There isÂ aÂ lot ofÂ useful info inÂ theÂ internets onÂ Jekyll, Iâ€™ll try toÂ sum all theÂ useful links inÂ this post forÂ you (andÂ for myself). There are links that would help you toÂ start with Jekyll, andÂ the links that are useful all theÂ time youâ€™re tinkering with theÂ logic behind Jekyllâ€™s templates.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://jekyllrb.com&quot;&gt;Jekyllâ€™s official site&lt;/a&gt;;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://prose.io/help/handbook.html&quot;&gt;configuring Prose.io forÂ Jekyll&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;There are also aÂ lot ofÂ helpful pages onÂ Jekyll inÂ theÂ &lt;a href=&quot;http://jekyllbootstrap.com&quot;&gt;Jekyll Bootstrap&lt;/a&gt; project. IÂ found those ones toÂ beÂ theÂ most useful:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://jekyllbootstrap.com/lessons/jekyll-introduction.html&quot;&gt;Introduction toÂ Jekyll&lt;/a&gt;;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://jekyllbootstrap.com/api/template-data-api.html&quot;&gt;template data &lt;abbr&gt;API&lt;/abbr&gt;&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Jekyll uses &lt;a href=&quot;http://www.liquidmarkup.org&quot;&gt;Liquid&lt;/a&gt; forÂ templating. GitHub recently &lt;a href=&quot;https://github.com/blog/1366-github-pages-updated-to-jekyll-0-12-0&quot;&gt;updated Jekyll&lt;/a&gt;, soÂ now you could use almost all theÂ tags from theÂ docs:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/shopify/liquid/wiki/liquid-for-designers&quot;&gt;list ofÂ all theÂ default liquid tags&lt;/a&gt;;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/mojombo/jekyll/wiki/liquid-extensions&quot;&gt;extra liquid tags available inÂ Jekyll&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Before this update you couldnâ€™t use theÂ powerful &lt;code&gt;split&lt;/code&gt; &lt;nobr&gt;tagâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;almost theÂ only way toÂ make aÂ lot ofÂ different things with Jekyll (guess &lt;nobr&gt;whatâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;there would beÂ some article onÂ meÂ hacking with that tag).&lt;/p&gt;
&lt;p&gt;ForÂ writing posts IÂ recommend toÂ use markdown. While there are other ways, like plain &lt;abbr&gt;HTML&lt;/abbr&gt; orÂ Textile, forÂ most cases theÂ markdown would fit theÂ best.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ForÂ aÂ markdown engine Iâ€™d recommend toÂ use &lt;a href=&quot;http://kramdown.rubyforge.org&quot;&gt;kramdown&lt;/a&gt;&lt;nobr&gt;â€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;itâ€™s theÂ best option soÂ far, Iâ€™d write why inÂ one ofÂ theÂ next articles.&lt;/li&gt;
&lt;li&gt;ForÂ configuring theÂ site orÂ any specific post youâ€™ll need toÂ use &lt;a href=&quot;http://en.wikipedia.org/wiki/YAML&quot;&gt;&lt;abbr&gt;YAML&lt;/abbr&gt;&lt;/a&gt;&lt;nobr&gt;â€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;soÂ ifÂ youâ€™re not familiar with its &lt;nobr&gt;syntaxâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;goÂ andÂ read about it, itâ€™s nice.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Overall, Iâ€™m very happy Iâ€™ve chosen theÂ Jekyll forÂ myÂ new site. There are aÂ lot ofÂ issues with Liquid templates, but theÂ overall result has been worth it.&lt;/p&gt;

    </content>
  </entry>
  <entry>
    <title>Correct Cursor on Active Elements</title>
    <link href="http://kizu.ru/en/issues/cursor-pointer/"/>
    <updated>2013-01-22T00:00:00+03:00</updated>
    <id>http://kizu.ru/en/issues/cursor-pointer</id>
    <content type="html">&lt;h1 id=&quot;correct-cursor-on-active-elements&quot;&gt;Correct Cursor onÂ Active Elements&lt;/h1&gt;
&lt;p&gt;Every active element must have aÂ set &lt;code&gt;cursor&lt;/code&gt; onÂ hover. AndÂ itÂ should beÂ &lt;code&gt;cursor:pointer&lt;/code&gt; inÂ most cases.&lt;/p&gt;
&lt;p&gt;ByÂ active elements IÂ mean links, buttons, selects, labels with checkboxes andÂ radio buttons, andÂ other similar elements.&lt;/p&gt;
&lt;p&gt;Those elements should beÂ treated asÂ â€œactiveâ€ when clicking onÂ such element results inÂ any action. Thereby aÂ menu item forÂ the current page, checked radio button orÂ disabled buttons orÂ links are not active elements, soÂ they shouldnâ€™t have any change onÂ hover.&lt;/p&gt;
&lt;p&gt;AtÂ first IÂ thought itâ€™s obvious, but then IÂ found out there are aÂ lot ofÂ developers who think otherwise. AndÂ IÂ didnâ€™t find any proper arguments against &lt;code&gt;cursor:pointer&lt;/code&gt; forÂ active elements after reading all their points ofÂ view.&lt;/p&gt;
&lt;p&gt;InÂ this article Iâ€™ll tell you myÂ arguments atÂ first, andÂ then Iâ€™ll discuss all theÂ arguments against myÂ point ofÂ view, describing why those arguments hadnâ€™t incline meÂ from it.&lt;/p&gt;
&lt;h2 id=&quot;benefits-of-using-cursor-pointer&quot;&gt;Benefits ofÂ using &lt;code&gt;cursor:pointer&lt;/code&gt;&lt;/h2&gt;
&lt;h3 id=&quot;visual-feedback&quot;&gt;Visual Feedback&lt;/h3&gt;
&lt;p&gt;ForÂ meÂ theÂ main profit from changed cursor isÂ theÂ visual feedback. Ideally every custom element should change its state onÂ hover. However, inÂ real life such state could beÂ absent orÂ wouldnâ€™t differ much from theÂ original state, orÂ would happen with aÂ transition. SoÂ there would beÂ noÂ feedback, orÂ itÂ would beÂ not obvious.&lt;/p&gt;
&lt;p&gt;But you surely would see when theÂ cursor &lt;nobr&gt;changesâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;this happens instantly andÂ stable. TheÂ click that could follow theÂ mouseover would beÂ &lt;em&gt;intuitive&lt;/em&gt;, otherwise theÂ brain would need toÂ match theÂ position ofÂ theÂ cursor with theÂ element orÂ spot theÂ elementâ€™s change andÂ then find out ifÂ itâ€™s aÂ hover state over this elementâ€™s active area orÂ something else.&lt;/p&gt;
&lt;p&gt;Changing ofÂ theÂ cursor isÂ theÂ most natural, noticeable andÂ obvious feedback you could easily add toÂ any element. OfÂ course, itâ€™s not theÂ best variant, but itâ€™s cheap andÂ easy. IfÂ you could add aÂ distinct visual state onÂ hover, then itÂ would beÂ even better.&lt;/p&gt;
&lt;h3 id=&quot;delimitation-of-the-active-area&quot;&gt;Delimitation ofÂ theÂ active area&lt;/h3&gt;
&lt;p&gt;There are aÂ lot ofÂ cases when you should hint toÂ theÂ users that they could click already. You could often want toÂ increase theÂ clickable area ofÂ different elements, like forÂ small icons orÂ forÂ menu items placed near theÂ window edges. InÂ those cases adding aÂ cursor onÂ hover would help users toÂ find out when they could click onÂ anÂ element.&lt;/p&gt;
&lt;p&gt;InÂ some cases, when there are adjacent elements, theÂ cursor wouldnâ€™t beÂ enough toÂ tell which element isÂ &lt;nobr&gt;hoveredâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;inÂ those cases you should change theÂ visual state ofÂ those elements.&lt;/p&gt;
&lt;p&gt;Anyway, ifÂ youâ€™d hint users when toÂ use any specific active element, users would know itÂ andÂ itÂ would beÂ easier forÂ them toÂ use theÂ UI next &lt;nobr&gt;timeâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;theyâ€™d need toÂ aim with less precision, because theyâ€™d know that active area ofÂ anÂ element could beÂ bigger than itÂ can beÂ seen. AndÂ when theyâ€™d move theÂ cursor they could click right atÂ theÂ moment theÂ cursor would change. Otherwise, ifÂ anÂ element donâ€™t change its cursor onÂ hover, theÂ users would need toÂ aim carefully toÂ hit theÂ area ofÂ aÂ small element like icon orÂ checkbox.&lt;/p&gt;
&lt;p&gt;AndÂ IÂ could argue ifÂ someone would say theÂ active area ofÂ anÂ element should beÂ asÂ big asÂ its visual representation, but Iâ€™ll keep myÂ arguments onÂ this topic forÂ another article.&lt;/p&gt;
&lt;h2 id=&quot;arguments-against-changing-the-cursor&quot;&gt;Arguments against changing theÂ cursor&lt;/h2&gt;
&lt;p&gt;IÂ really did try, but hadnâ€™t find any proper arguments against changing theÂ cursor over theÂ active elements. Most ofÂ those arguments can beÂ described asÂ â€œDonâ€™t break usersâ€™ habits!â€&lt;/p&gt;
&lt;p&gt;But you canâ€™t treat theÂ presence ofÂ habits asÂ anÂ argument. This means there was one ofÂ theÂ possible solutions andÂ itÂ was either theÂ only one there, either itÂ was theÂ best atÂ theÂ moment. TheÂ habit should beÂ treated inÂ its context, andÂ inÂ context ofÂ &lt;em&gt;what&lt;/em&gt; would happen ifÂ weâ€™d brake it. Would itÂ beÂ destructive inÂ some way, orÂ itÂ would beÂ just aÂ matter ofÂ minor usersâ€™ discomfort?&lt;/p&gt;
&lt;p&gt;Another fact isÂ that not all ofÂ theÂ habits are good. IfÂ weâ€™d always stay with theÂ usersâ€™ desires, theÂ progress would stop. Often users become used toÂ theÂ things that only hinder them. AÂ clear example ofÂ such bad habit are labels forÂ checkboxes andÂ radio buttons. Lazy developers didnâ€™t bind them together forÂ years, soÂ users often donâ€™t know what theÂ labels could beÂ actually clicked, soÂ they spend their time andÂ efforts trying toÂ hit those little areas ofÂ those little controls even ifÂ theÂ labels are clickable too. Itâ€™s aÂ great example why you should not only bind theÂ inputs with labels, but also tell users about itÂ with all possible ways.&lt;/p&gt;
&lt;p&gt;WeÂ could divide theÂ â€œhabits argumentsâ€ into different categories. Iâ€™d try toÂ answer theÂ most frequently used arguments against theÂ changing ofÂ theÂ cursor onÂ hover.&lt;/p&gt;
&lt;h3 id=&quot;-the-cursor-doesn-t-change-in-users-os-&quot;&gt;â€œTheÂ cursor doesnâ€™t change inÂ usersâ€™ OSâ€&lt;/h3&gt;
&lt;p&gt;InÂ OS theÂ most used cursor isÂ just anÂ arrow. ItÂ doesnâ€™t change over most ofÂ theÂ system controls like buttons. However, theÂ question isÂ â€œIs this really good?â€ IsÂ itÂ familiar? Yes. But isÂ itÂ usable andÂ could itÂ beÂ better? IÂ often see how some desktop app isÂ not usable because IÂ need toÂ guess where toÂ &lt;nobr&gt;clickâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;there are noÂ signs ofÂ active areas.&lt;/p&gt;
&lt;p&gt;When weÂ are talking about desktop weÂ should also talk about games too. Unlike apps, games often have custom cursors that are changed over different UI elements. InÂ comparison with modern games most ofÂ theÂ web apps feel like theÂ old games with pixel-&lt;nobr&gt;huntingâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;you have toÂ guess where toÂ click andÂ where toÂ hover inÂ order toÂ doÂ something. However, recently theÂ web apps tend toÂ use more cursors forÂ different actions like &lt;nobr&gt;drag-n&lt;/nobr&gt;-drop orÂ resize. But why then use theÂ default cursor forÂ buttons? &lt;code&gt;cursor:pointer&lt;/code&gt; would fit great there. AndÂ when weâ€™d look atÂ theÂ checkboxes andÂ radio buttons, then there should beÂ not only aÂ distinct visual hover state like changed background, but you shouldnâ€™t forget toÂ set theÂ &lt;code&gt;cursor:default&lt;/code&gt; forÂ &lt;nobr&gt;themâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;thatâ€™s theÂ cursor theÂ desktop apps mostly use toÂ &lt;em&gt;select&lt;/em&gt; something. But ifÂ selecting theÂ checkbox orÂ radio button results inÂ aÂ UI change like expanding theÂ accordionâ€™s section, then theÂ best cursor would beÂ aÂ pointer &lt;nobr&gt;oneâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;telling something would happen after youâ€™d click.&lt;/p&gt;
&lt;p&gt;Web apps are not theÂ same asÂ desktop apps, there are aÂ lot ofÂ new patterns andÂ UI elements there, soÂ itâ€™s time toÂ think again andÂ decide which habits toÂ forget.&lt;/p&gt;
&lt;h3 id=&quot;-i-see-a-pointer-cursor-and-think-it-s-a-link-&quot;&gt;â€œI see aÂ pointer cursor andÂ think itâ€™s aÂ link!â€&lt;/h3&gt;
&lt;p&gt;Ah, thatâ€™s another often used argument. When there were noÂ web apps, there were only linked textual documents. TheÂ apps mostly didnâ€™t have such links, soÂ inÂ browsers, toÂ tell users what theÂ &lt;abbr&gt;HTML&lt;/abbr&gt; &lt;code&gt;&amp;lt;a&amp;gt;&lt;/code&gt; is, there appeared underline, blue color andÂ aÂ pointer cursor. AndÂ asÂ all theÂ buttons andÂ inputs were system controls, they inherited theÂ default behavior with theÂ default cursor.&lt;/p&gt;
&lt;p&gt;Years passed andÂ sites become more complex andÂ &lt;nobr&gt;UI-rich&lt;/nobr&gt;, designers created new controls andÂ they often were just theÂ links disguised asÂ buttons andÂ other elements. AndÂ inÂ most cases nobody removed theÂ linksâ€™ cursors. SoÂ ifÂ youâ€™d look atÂ theÂ modern sites, most custom buttons would beÂ actually links andÂ would have &lt;code&gt;cursor:pointer&lt;/code&gt; there.&lt;/p&gt;
&lt;p&gt;InÂ fact, you should forget theÂ â€œpointer isÂ forÂ linksâ€ thing aÂ long ago.&lt;/p&gt;
&lt;h3 id=&quot;-but-you-could-open-links-in-new-windows-get-the-contextual-menus-for-them-&quot;&gt;â€œBut you could open links inÂ new windows, get theÂ contextual menus forÂ themâ€¦â€&lt;/h3&gt;
&lt;p&gt;Well, &lt;nobr&gt;yeahâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;links are not buttons, andÂ buttons are not links. But that doesnâ€™t mean theÂ behavior ofÂ hover forÂ links andÂ buttons should differ.&lt;/p&gt;
&lt;p&gt;Nobody would expect anÂ ability toÂ open something inÂ aÂ new tab from theÂ button. InÂ each case both theÂ links andÂ the buttons would have their context where users could either await theÂ linkâ€™s behavior, either they would just use theÂ control they have. AndÂ itÂ really doesnâ€™t matter which cursor theÂ users would &lt;nobr&gt;seeâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;ifÂ users would see aÂ cursor inÂ aÂ linksâ€™ context, they would treat itÂ asÂ aÂ link. But ifÂ users wonâ€™t expect aÂ link, theÂ button underneath would beÂ ok. IfÂ users would like toÂ attach aÂ file, they wonâ€™t need theÂ linkâ€™s behavior. IfÂ users would like toÂ send aÂ form, they would just doÂ it, even ifÂ thereâ€™d beÂ aÂ &lt;code&gt;cursor:pointer&lt;/code&gt; onÂ it, theÂ users wonâ€™t goÂ away andÂ wonâ€™t try toÂ open itÂ inÂ aÂ new &lt;nobr&gt;windowâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;they already know how toÂ use search forms. TheÂ only place when theÂ users would beÂ &lt;nobr&gt;confusedâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;ifÂ youâ€™d doÂ itÂ reverse: make aÂ button look like aÂ &lt;nobr&gt;linkâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;beÂ blue andÂ underlined.&lt;/p&gt;
&lt;p&gt;Further &lt;nobr&gt;moreâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;there are already aÂ lot ofÂ links that donâ€™t look like ones andÂ other elements that are disguised asÂ links. Different dropdown handles, filters, cuts, closing icons, â€œcancelâ€ &lt;nobr&gt;linksâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;aÂ lot ofÂ sites have aÂ lot ofÂ elements using different tags inÂ &lt;abbr&gt;HTML&lt;/abbr&gt; forÂ them andÂ having this &lt;code&gt;cursor:pointer&lt;/code&gt;. Why would then simple buttons orÂ selects have default cursor instead ofÂ theÂ one all other controls have?&lt;/p&gt;
&lt;p&gt;There isÂ aÂ great example from one companyâ€™s service:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://kizu.ru/en/issues/cursor-pointer/cursor-pointer.png&quot; alt=&quot;Active areas example&quot;&gt;&lt;/p&gt;
&lt;p&gt;You could try toÂ guess which marked elements are links, which are not; which have &lt;code&gt;cursor:pointer&lt;/code&gt;, which donâ€™t. What would happen when youâ€™ll hover orÂ click any ofÂ those elements? You can think forÂ aÂ while, andÂ Iâ€™ll give you anÂ answer later.&lt;/p&gt;
&lt;p&gt;IfÂ youâ€™d say straightforwardly â€œonly everything that have &lt;code&gt;href&lt;/code&gt; must have aÂ cursorâ€ then aÂ lot ofÂ confusing things could appear. ForÂ example, ifÂ there would beÂ one element visually, but with different tags underneath (like &lt;a href=&quot;http://twitter.github.com/bootstrap/base-css.html#buttons&quot;&gt;bootstrapâ€™s buttons&lt;/a&gt; are), then itÂ would beÂ strange andÂ confusing ifÂ thereâ€™d beÂ aÂ difference between theÂ button made ofÂ &lt;code&gt;&amp;lt;a&amp;gt;&lt;/code&gt; andÂ &lt;code&gt;&amp;lt;button&amp;gt;&lt;/code&gt;. So, IÂ hope everyone would agree that theÂ cursor over every such element should beÂ consistent. AndÂ IfÂ youâ€™d make theÂ &lt;code&gt;default&lt;/code&gt; one, then itÂ would become really confusing, â€™cause there could beÂ aÂ disabled state forÂ this button andÂ you would need toÂ spot theÂ change ofÂ theÂ buttonâ€™s background inÂ order toÂ know could itÂ beÂ pressed orÂ no. AndÂ then ifÂ youâ€™d remove theÂ &lt;code&gt;cursor:pointer&lt;/code&gt; from anÂ actual link itÂ wonâ€™t beÂ any better, soÂ theÂ only proper way isÂ toÂ have &lt;code&gt;cursor:pointer&lt;/code&gt; inÂ both cases.&lt;/p&gt;
&lt;p&gt;WeÂ could find aÂ lot ofÂ examples with buttons, links andÂ their states would conflict with each other andÂ the overall UX. Making theÂ &lt;code&gt;cursor:pointer&lt;/code&gt; toÂ mark only actionable elements makes sense andÂ wonâ€™t create any conflicts other than slight discomfort forÂ some persons.&lt;/p&gt;
&lt;p&gt;AndÂ letâ€™s get back toÂ one strange service:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://kizu.ru/en/issues/cursor-pointer/cursor-pointer.png&quot; alt=&quot;Active areas example&quot;&gt;&lt;/p&gt;
&lt;p&gt;So, whatâ€™s there?&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;Itâ€™s theÂ postâ€™s permalink. Ok, itâ€™s anÂ actual link, there isÂ anÂ underline andÂ aÂ pointer onÂ hover.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Hey, itâ€™s not aÂ link, itâ€™s just aÂ text, not clickable atÂ all.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Thatâ€™s pseudo-link, there isÂ noÂ actual link, but there isÂ aÂ hover state asÂ theÂ one onÂ permalink: underline andÂ pointer. Clicking here calls aÂ dropdown toÂ appear.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Another control that behaves like link (changes color onÂ hover andÂ gets &lt;code&gt;cursor:pointer&lt;/code&gt;), but there isÂ noÂ actual link. Again, dropdown onÂ click.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;This icon isÂ not aÂ link andÂ clicking onÂ itÂ does nothing, while theÂ other parts ofÂ theÂ &lt;nobr&gt;snippetâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;header andÂ &lt;nobr&gt;pictureâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;are links.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;There are two links: userpic andÂ username. Theyâ€™re not connected andÂ have their own hovers: pointer andÂ anÂ underline forÂ username.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Itâ€™s aÂ pseudo-link, noÂ &lt;code&gt;href&lt;/code&gt; seen. AndÂ the underline onÂ hover andÂ pointer.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Oh, aÂ button! AÂ custom button. But whatâ€™t that? NoÂ pointer onÂ hover! AndÂ even &lt;nobr&gt;moreâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;hover brings theÂ dropdown, IÂ feel like onÂ aÂ minefield there.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;So, theÂ button was treated asÂ aÂ â€œsystemâ€ element, but whatâ€™s with checkbox? ItÂ andÂ its label have &lt;code&gt;cursor:pointer&lt;/code&gt;. Wow.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;So, what could IÂ say? There isÂ noÂ even slight consistency andÂ aÂ lot ofÂ other UI mistakes. But hey, there isÂ noÂ &lt;code&gt;cursor:pointer&lt;/code&gt; onÂ aÂ button! IÂ wonder which excuses theÂ developer have forÂ this.&lt;/p&gt;
&lt;p&gt;&lt;abbr&gt;BTW&lt;/abbr&gt; itâ€™s very interesting toÂ look atÂ different services inÂ theÂ search forÂ consistency, almost noÂ one isÂ perfect, soÂ you could often find things toÂ think about andÂ toÂ criticise on.&lt;/p&gt;
&lt;h3 id=&quot;-but-the-specs-say-&quot;&gt;â€œBut theÂ specs sayâ€¦â€&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://twitter.com/SelenIT2&quot;&gt;SelenIT&lt;/a&gt; brings &lt;a href=&quot;http://habrahabr.ru/qa/19097/&quot;&gt;another argument&lt;/a&gt; (inÂ Russian): both theÂ &lt;a href=&quot;http://www.w3.org/TR/CSS21/ui.html#propdef-cursor&quot;&gt;&lt;abbr&gt;CSS&lt;/abbr&gt;2.1&lt;/a&gt; spec andÂ the &lt;a href=&quot;http://www.w3.org/TR/css3-ui/#links-and-status-cursors&quot;&gt;&lt;abbr&gt;CSS&lt;/abbr&gt;3 Basic UI&lt;/a&gt; clearly state that â€œtheÂ cursor isÂ aÂ pointer that indicates aÂ linkâ€. HeÂ also gives aÂ link toÂ aÂ &lt;a href=&quot;http://lists.w3.org/Archives/Public/public-css-testsuite/2010Jul/0024.html&quot;&gt;GÃ©rard Talbotâ€™s message&lt;/a&gt;, where heÂ declines aÂ change toÂ one ofÂ theÂ &lt;abbr&gt;CSS&lt;/abbr&gt;2.1 tests. However, itÂ couldnâ€™t beÂ anÂ argument forÂ this &lt;nobr&gt;issueâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;theÂ context ofÂ this message isÂ aÂ &lt;strong&gt;test forÂ spec&lt;/strong&gt;, andÂ ifÂ spec says something, then theÂ test should cover only this.&lt;/p&gt;
&lt;p&gt;InÂ specs itÂ isÂ only said theÂ pointer isÂ supposed toÂ beÂ used forÂ links, but itÂ donâ€™t imply you &lt;em&gt;canâ€™t&lt;/em&gt; use itÂ forÂ anything other than link. ItÂ states theÂ default use ofÂ such cursor, nothing more. Moreover, IÂ think this part inÂ specs should beÂ changed toÂ something like â€œTheÂ cursor isÂ aÂ pointer that indicates anÂ element that can beÂ clickedâ€ toÂ reflect modern state ofÂ theÂ &lt;nobr&gt;webâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;â€™cause theÂ current statement isÂ come atÂ least from theÂ &lt;a href=&quot;http://www.w3.org/TR/WD-CSS2-971104/ui.html#propdef-cursor&quot;&gt;year 1997&lt;/a&gt; andÂ aÂ lot ofÂ things did happen since then.&lt;/p&gt;
&lt;h3 id=&quot;-flickering-&quot;&gt;â€œFlickeringâ€&lt;/h3&gt;
&lt;p&gt;Here isÂ another, different from habit ones, argument. IfÂ there would beÂ aÂ lot ofÂ actionable elements, they say, theÂ cursor would blink aÂ lot when youâ€™d move itÂ here andÂ there.&lt;/p&gt;
&lt;p&gt;But thatâ€™s not aÂ proper argument, itâ€™s aÂ pointer forÂ one ofÂ another problems:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;Active elements could beÂ placed not that close one toÂ another. InÂ that case itÂ would beÂ harder forÂ users toÂ hit those elements andÂ there would beÂ symptomatic flickering when youâ€™d move theÂ cursor from one such element toÂ another. Ideally, those elements should have continuous active areas. AndÂ toÂ delimit different elements inÂ that case you should use theÂ visual hover like changing background andÂ not theÂ cursorless gaps.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Another &lt;nobr&gt;problemâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;cluttered interface. IfÂ youâ€™d have whole page covered inÂ active elements, &lt;nobr&gt;thenâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;&lt;nobr&gt;yeahâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;theÂ cursor would change aÂ lot (however, itÂ already changes aÂ lot when you hover over text orÂ other static elements). When you have aÂ lot ofÂ active areas, itÂ could beÂ that you need toÂ simplify something there.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;recap&quot;&gt;Recap&lt;/h2&gt;
&lt;p&gt;InÂ ideal situation every active element should have aÂ distinct visual hover state. But even with such state itÂ wonâ€™t hurt toÂ add aÂ &lt;code&gt;cursor:pointer&lt;/code&gt;&lt;nobr&gt;â€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;itÂ would only add clarity andÂ would remove possible UI conflicts. AndÂ ifÂ you canâ€™t find how toÂ make aÂ visual state onÂ hover, adding pointer would beÂ enough forÂ most cases (however, ifÂ youâ€™re working with aÂ designer, itÂ would beÂ better toÂ ask them toÂ give you aÂ correct visual hover state).&lt;/p&gt;
&lt;p&gt;AndÂ there are just noÂ other arguments against cursor over active elements than user habits. AndÂ there would beÂ more happy users than those who moan.&lt;/p&gt;
&lt;p&gt;However, ifÂ you have any other arguments IÂ didnâ€™t &lt;nobr&gt;coverâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;IÂ would like toÂ hear them. IfÂ you know ofÂ any A/&lt;nobr&gt;B-testing&lt;/nobr&gt; with different &lt;nobr&gt;cursorsâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;itÂ would beÂ very cool toÂ look atÂ theÂ results ofÂ those.&lt;/p&gt;
&lt;p&gt;Anyway, IÂ hope &lt;em&gt;now&lt;/em&gt; this topic isÂ obvious andÂ you would goÂ andÂ add theÂ &lt;code&gt;cursor:pointer&lt;/code&gt; toÂ anywhere onÂ you page where itÂ isÂ needed.&lt;/p&gt;
&lt;h2 id=&quot;links&quot;&gt;Links&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://css-tricks.com/snippets/css/give-clickable-elements-a-pointer-cursor/&quot;&gt;Chris Coyerâ€™s snippet onÂ adding pointer cursor&lt;/a&gt;&lt;/p&gt;
&lt;p&gt; Except forÂ the snippet itself, inÂ theÂ comments there are all theÂ same arguments onÂ habits andÂ points ofÂ view without arguments atÂ all.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.usabilitypost.com/2009/10/26/mouse-cursor-affordance/&quot;&gt;Dmitry Fadeyevâ€™s article onÂ cursorâ€™s affordance&lt;/a&gt;&lt;/p&gt;
&lt;p&gt; InÂ this article Dmitry comes with this statement: â€œIf theÂ cursor type isÂ wrong, specify itÂ using theÂ &lt;abbr&gt;CSS&lt;/abbr&gt; &lt;code&gt;cursor&lt;/code&gt; propertyâ€ andÂ gives asÂ anÂ example custom buttons andÂ input placeholders.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://pepelsbey.net/pres/push-it/&quot;&gt;Vadim Makeevâ€™s slides&lt;/a&gt; (inÂ Russian)&lt;/p&gt;
&lt;p&gt; Nice slides onÂ using theÂ right elements forÂ right purposes andÂ all those things, however Vadim says you shouldnâ€™t make aÂ pointer cursor forÂ buttons andÂ IÂ disagree there. Hope heâ€™ll make upÂ his mind after this article.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;

    </content>
  </entry>
  <entry>
    <title>Restarting kizu.ru</title>
    <link href="http://kizu.ru/en/issues/restart/"/>
    <updated>2013-01-17T00:00:00+03:00</updated>
    <id>http://kizu.ru/en/issues/restart</id>
    <content type="html">&lt;h1 id=&quot;restarting-kizu-ru&quot;&gt;Restarting kizu.ru&lt;/h1&gt;
&lt;p&gt;HiÂ there! That was aÂ long way andÂ IÂ think Iâ€™m somewhere near theÂ &lt;nobr&gt;endâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;Iâ€™m relaunching myÂ site. IÂ canâ€™t remember how many versions ofÂ itÂ were there when itÂ was entirely inÂ Russian, but that would beÂ theÂ second version ofÂ myÂ site inÂ English.&lt;/p&gt;
&lt;p&gt;Oh, did IÂ say Iâ€™m near theÂ end? IÂ lied. You know what isÂ theÂ main feature ofÂ this version? Itâ€™s rough. Itâ€™s terribly, awfully draft, it&amp;#39;s broken andÂ smelling. Donâ€™t look atÂ theÂ &lt;nobr&gt;sourceâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;you wonâ€™t find there anything better than ugly, barely working code. Really, Iâ€™m not joking. Why isÂ itÂ so? IÂ decided toÂ fight myÂ perfectionism. IÂ tended toÂ polish, refine andÂ then polish again myÂ site before; IÂ tried toÂ show only theÂ bestestest code IÂ wrote. But now, this &lt;nobr&gt;versionâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;itÂ isÂ soÂ far from anything IÂ would like before. AndÂ thatâ€™s awesome.&lt;/p&gt;
&lt;h2 id=&quot;the-goal&quot;&gt;TheÂ Goal&lt;/h2&gt;
&lt;p&gt;So, why did IÂ rewrote theÂ whole site from scratch? Why doÂ IÂ think that itâ€™s superior toÂ theÂ previous variants even inÂ itâ€™s deeply rough form?&lt;/p&gt;
&lt;p&gt;Thatâ€™s easy. IÂ set theÂ goal forÂ myself: make aÂ site that &lt;strong&gt;would beÂ easy toÂ update&lt;/strong&gt;. Thatâ€™s &lt;nobr&gt;itâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;all other versions with all engines IÂ tried forÂ them werenâ€™t handy forÂ me. IÂ had aÂ lot ofÂ things toÂ doÂ forÂ updating andÂ filling theÂ site orÂ changing any parts ofÂ it. AndÂ IÂ wanted toÂ just write, write aÂ lot. IÂ have aÂ lot ofÂ ideas forÂ posts andÂ things toÂ publish atÂ myÂ site, but Iâ€™m lazy. Any previous version was like aÂ wall forÂ me, theÂ wall IÂ couldnâ€™t make myself toÂ jump over.&lt;/p&gt;
&lt;p&gt;However, after aÂ lot ofÂ prototypes, different engines andÂ rewriting theÂ whole thing several times, IÂ came upÂ with theÂ solution that would fit meÂ andÂ would make updating myÂ site aÂ pleasure. AndÂ here itÂ is. All theÂ basic features that IÂ wanted are complete, soÂ IÂ can&amp;#39;t wait anymore andÂ launch it. But why isÂ itÂ pleasure toÂ update theÂ site now?&lt;/p&gt;
&lt;h2 id=&quot;github-amp-jekyll&quot;&gt;GitHub &amp;amp; Jekyll&lt;/h2&gt;
&lt;p&gt;IÂ could praise andÂ praise &lt;nobr&gt;GitHubâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;all theÂ work those people doÂ isÂ worth aÂ bunch ofÂ articles. But Iâ€™ll mention just one thing now.&lt;/p&gt;
&lt;p&gt;GitHub gives you aÂ way toÂ host static &lt;nobr&gt;sitesâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;&lt;a href=&quot;http://pages.github.com&quot;&gt;GitHub Pages&lt;/a&gt;. You could take your repo, throw some static files inÂ itÂ andÂ after aÂ few simple actions you could look atÂ your own static site either atÂ GitHub, orÂ atÂ your own domain ifÂ youâ€™d set itÂ up.&lt;/p&gt;
&lt;p&gt;But there isÂ more: other than just hosting plain dull static files, GitHub allows you toÂ autogenerate them forÂ &lt;nobr&gt;youâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;using &lt;a href=&quot;https://github.com/mojombo/jekyll#readme&quot;&gt;Jekyll&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;You could easily make aÂ basic blog using &lt;nobr&gt;Jekyllâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;itÂ has everything youâ€™d need forÂ it: categories, tags, permalinks, generating feeds, etc. AndÂ asÂ itâ€™s aÂ &lt;em&gt;generator&lt;/em&gt;, every page isÂ generated just once, onÂ your push toÂ theÂ repo, soÂ itÂ makes itÂ nice forÂ performance andÂ server &lt;nobr&gt;loadâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;users would get just plain htmls. AÂ lot ofÂ people chosen theÂ GitHub asÂ aÂ hosting forÂ their blogs.&lt;/p&gt;
&lt;p&gt;Iâ€™ve chosen too. Iâ€™ve always had aÂ lot ofÂ demands forÂ aÂ static &lt;nobr&gt;generatorsâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;IÂ write inÂ two languages, have aÂ lot ofÂ experiments embedded inÂ posts andÂ aÂ lot ofÂ other stuff. Jekyll uses &lt;a href=&quot;http://liquidmarkup.org&quot;&gt;Liquid&lt;/a&gt; templating engine. Itâ€™s rather simple, but with some guts you could doÂ complex things with it. Iâ€™ve dig itÂ aÂ bit andÂ made aÂ lot ofÂ small improvements forÂ myÂ &lt;nobr&gt;blogâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;there would beÂ atÂ least several articles onÂ that. AndÂ maybe someday Iâ€™ll refine andÂ rewrite all those things toÂ aÂ state ofÂ aÂ standalone project that could beÂ used asÂ aÂ boilerplate forÂ aÂ simple nice andÂ powerful blog with all interesting features included. So, wait forÂ &lt;nobr&gt;updatesâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;there would beÂ some.&lt;/p&gt;
&lt;h2 id=&quot;prose-io&quot;&gt;Prose.io&lt;/h2&gt;
&lt;p&gt;Ok, soÂ Iâ€™m using GitHub, soÂ IÂ can just push theÂ changes toÂ itÂ andÂ theyâ€™ll goÂ live. But GitHub have aÂ nice &lt;nobr&gt;&lt;abbr&gt;API&lt;/abbr&gt;â€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;soÂ there are some web apps that already use itÂ andÂ doÂ aÂ great job with it. One ofÂ them isÂ &lt;a href=&quot;http://prose.io&quot;&gt;prose.io&lt;/a&gt;&lt;nobr&gt;â€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;andÂ itÂ works really well, IÂ think Iâ€™ll write anÂ article orÂ two onÂ itÂ someday. IÂ really liked it.&lt;/p&gt;
&lt;h2 id=&quot;-write-an-article-&quot;&gt;â€œWrite anÂ articleâ€&lt;/h2&gt;
&lt;p&gt;How much times did IÂ say â€œIâ€™ll write anÂ article onÂ thatâ€ already? TheÂ point isÂ IÂ came with that New Yearâ€™s Resolution: toÂ write atÂ least one article aÂ week after launching theÂ new site. But everything tells meÂ there would beÂ more articles: IÂ have aÂ lot ofÂ drafts andÂ ideas toÂ tell andÂ write on.&lt;/p&gt;
&lt;p&gt;So, just wait forÂ it! Iâ€™ll try toÂ mix articles onÂ theÂ making ofÂ theÂ new version ofÂ site with those IÂ have already ideas forÂ orÂ with just anything that would fly there inÂ aÂ front ofÂ myÂ eyes.&lt;/p&gt;
&lt;p&gt;Iâ€™m not sure about theÂ format ofÂ theÂ blog/site, because everything could easily change, but Iâ€™m sure itÂ would beÂ fun.&lt;/p&gt;
&lt;h2 id=&quot;markup-amp-design&quot;&gt;Markup &amp;amp; Design&lt;/h2&gt;
&lt;p&gt;AsÂ IÂ already &lt;nobr&gt;mentionedâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;right now there isÂ only basement forÂ the site that gives meÂ anÂ easy way toÂ write aÂ new article, change any previous one orÂ just play with anything. Everything else isÂ unfinished.&lt;/p&gt;
&lt;p&gt;Markup isÂ inÂ aÂ state ofÂ anÂ early prototype, there isÂ almost nothing interesting here. Well, some nice touches are there hopefully, but they are covered with layers ofÂ trash. Bad selectors, noÂ continuous code style (theÂ styles are generated from Stylus actually), aÂ lot ofÂ copy-and-pasting, extra code andÂ other bad things. Donâ€™t read myÂ &lt;abbr&gt;CSS&lt;/abbr&gt;. All theÂ things that &lt;em&gt;are&lt;/em&gt; nice Iâ€™ll mention inÂ all theÂ new shiny posts, soÂ you could just subscribe toÂ theÂ &lt;abbr&gt;RSS&lt;/abbr&gt; orÂ &lt;a href=&quot;https://twitter.com/kizmarh&quot;&gt;follow updates inÂ myÂ twitter&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Design, onÂ theÂ other hand, isÂ almost stable. Yeah, there would beÂ changes andÂ aÂ lot ofÂ them, but theÂ whole concept isÂ there.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;TheÂ Font. IÂ spend aÂ lot ofÂ attention toÂ it. There isÂ aÂ lot ofÂ theÂ Font: Iâ€™ve chosen aÂ big one forÂ body, big enough forÂ meÂ atÂ least. IfÂ itÂ seems too big forÂ &lt;nobr&gt;youâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;you could reduce itÂ using your browser orÂ just sit farther from theÂ display. IÂ think itâ€™s better toÂ please those who are not that good atÂ looking atÂ small letters than those with eagle eyes.&lt;/p&gt;
&lt;p&gt; Also, theÂ font isÂ serif. TheÂ sad part isÂ that myÂ blog isÂ both onÂ English andÂ onÂ &lt;nobr&gt;Russianâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;andÂ there are very few good free fonts with cyrillic subset. AndÂ aÂ little more paid ones. Iâ€™ve chosen toÂ pay. TheÂ font isÂ &lt;a href=&quot;http://www.letterhead.ru/Fonts/21cent.html&quot;&gt;â€œ21 centâ€&lt;/a&gt; byÂ &lt;a href=&quot;http://www.letterhead.ru&quot;&gt;Letterhead Studio&lt;/a&gt;. Donâ€™t know why, but IÂ really like this font. IÂ bought itÂ from &lt;a href=&quot;http://www.myfonts.com/fonts/letterheadrussia/21-cent/&quot;&gt;myfonts.net&lt;/a&gt;&lt;nobr&gt;â€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;itâ€™s nice they have itÂ â€™cause almost all other paid font providers are somewhat &lt;nobr&gt;greedyâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;IÂ donâ€™t think paying monthly fee forÂ aÂ font isÂ nice.&lt;/p&gt;
&lt;p&gt; TheÂ whole font story isÂ really tough andÂ long. You can guess ifÂ itÂ would translate into anÂ article someday.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Minimalism. Iâ€™ve already mentioned itÂ atÂ &lt;nobr&gt;twitterâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;itâ€™s very hard toÂ make aÂ minimalistic textual site andÂ not fall into cloning great &lt;a href=&quot;http://informationarchitects.net&quot;&gt;iAâ€™s site&lt;/a&gt;. Some ofÂ theÂ iterations IÂ did forÂ myÂ site were dangerously close toÂ that one. Maybe thatâ€™s not that bad after all, but Iâ€™ve stopped andÂ tried toÂ find what toÂ doÂ toÂ make myÂ site somehow stand out ofÂ similar ones. Minimalistic text-only sites are aÂ trend, soÂ itÂ would beÂ nice ifÂ myÂ site would beÂ recognisable inÂ some way. OfÂ course, itâ€™s not finished, but IÂ hope theÂ shape can beÂ seen.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Visual features. Iâ€™ll certainly write more posts onÂ that, soÂ only briefly now: look atÂ theÂ gamma andÂ colors. IÂ tried toÂ reduce number ofÂ plain black andÂ gray colors (andÂ plain white too), using aÂ small tint toÂ everything. Also look atÂ theÂ header andÂ footer (onÂ desktop)&lt;nobr&gt;â€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;IÂ know, itâ€™s not aÂ new effect, but IÂ kinda liked itÂ andÂ wanted toÂ use itÂ there asÂ itÂ perfectly fits into theme. AndÂ look atÂ theÂ &lt;nobr&gt;linksâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;theÂ colors, theÂ visited ones andÂ especially look atÂ theÂ small thingy that can beÂ visible onÂ theÂ underline that appears onÂ hover.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;open-source&quot;&gt;Open Source&lt;/h2&gt;
&lt;p&gt;Despite theÂ rough trashy code inside, theÂ code ofÂ this site isÂ onÂ GitHub. Yeah, itâ€™s needed forÂ all this Jekyll magic toÂ work, but there isÂ also another thing: theÂ power ofÂ open source. Anyone could goÂ andÂ fix all those awful mistakes IÂ doÂ while writing theÂ posts inÂ English (inÂ aÂ verrry bad English IÂ guess, sorry!)&lt;nobr&gt;â€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;now itâ€™s very easy. Every article onÂ site have two links atÂ theÂ bottom: one forÂ creating anÂ issue onÂ GitHub straight &lt;nobr&gt;awayâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;soÂ you can point meÂ toÂ any errors orÂ add something toÂ theÂ post, andÂ ifÂ youâ€™re that generous, there isÂ aÂ link toÂ theÂ article atÂ prose.&lt;nobr&gt;ioâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;soÂ you could goÂ andÂ fix it.&lt;/p&gt;
&lt;p&gt;Those actions would beÂ very fast asÂ long asÂ you have GitHub account, soÂ IÂ hope you would use it. Thank you inÂ advance!&lt;/p&gt;
&lt;p&gt;This whole idea onÂ going open source forÂ articles isÂ great, soÂ there would beÂ aÂ lot ofÂ articles onÂ that coming.&lt;/p&gt;
&lt;h2 id=&quot;that-s-it-or-tl-dr&quot;&gt;Thatâ€™s itÂ orÂ tl;dr&lt;/h2&gt;
&lt;p&gt;Ok, soÂ you can see theÂ first post from aÂ list ofÂ all those Iâ€™ll &lt;nobr&gt;writeâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;with aÂ new site under them. Itâ€™s drafty, broken inÂ aÂ lot ofÂ ways andÂ smells inside, but that would change someday. Everything would beÂ better andÂ better andÂ Iâ€™ll try toÂ cover all theÂ changes IÂ doÂ either inÂ articles, orÂ just inÂ twitter.&lt;/p&gt;
&lt;p&gt;So, thank you forÂ reading this lengthy post (orÂ scrolling till theÂ end atÂ least). Follow theÂ updates, send pull requests andÂ stay tuned!&lt;/p&gt;

    </content>
  </entry>
  <entry>
    <title>bemto</title>
    <link href="http://kizu.ru/en/projects/bemto/"/>
    <updated>2012-07-02T00:00:00+03:00</updated>
    <id>http://kizu.ru/en/projects/bemto</id>
    <content type="html">&lt;h1 id=&quot;bemto&quot;&gt;bemto&lt;/h1&gt;
&lt;p&gt;OhÂ hi. IÂ created this &lt;nobr&gt;thingâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;&lt;a href=&quot;https://github.com/kizu/bemto&quot;&gt;bemto&lt;/a&gt;
â€”&amp;#8202;some mixins forÂ &lt;a href=&quot;https://github.com/visionmedia/jade&quot;&gt;Jade&lt;/a&gt; that makes itÂ easy andÂ fun toÂ write theÂ code inÂ &lt;a href=&quot;http://bem.github.com/bem-method/pages/beginning/beginning.en.html&quot;&gt;&lt;abbr&gt;BEM&lt;/abbr&gt;&lt;/a&gt; notation.&lt;/p&gt;
&lt;p&gt;IÂ really love writing code inÂ bem style andÂ really like Jade, soÂ IÂ though that adding some bem toÂ Jade would beÂ aÂ great little thing that atÂ least IÂ would use aÂ lot. AndÂ IÂ hope that itÂ would beÂ helpful toÂ someone else too.&lt;/p&gt;
&lt;p&gt;IfÂ you hadnâ€™t already read theÂ &lt;a href=&quot;http://coding.smashingmagazine.com/2012/04/16/a-new-front-end-methodology-bem/&quot;&gt;articles onÂ &lt;abbr&gt;BEM&lt;/abbr&gt;&lt;/a&gt; onÂ SM, orÂ Nicolas Gallagharâ€™s &lt;a href=&quot;http://nicolasgallagher.com/about-html-semantics-front-end-architecture/&quot;&gt;article onÂ front-end architecture&lt;/a&gt;,&lt;nobr&gt;â€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;goÂ forÂ it! Those articles explain some great ways toÂ write extendable andÂ mainainable code.&lt;/p&gt;
&lt;p&gt;AndÂ Jade isÂ theÂ template engine heavily influenced byÂ Haml byÂ &lt;a href=&quot;http://tjholowaychuk.com/&quot;&gt;TJ Holowaychuk&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Long story short: read &lt;a href=&quot;https://github.com/kizu/bemto#readme&quot;&gt;theÂ readme ofÂ theÂ project&lt;/a&gt; forÂ more details. Especially look atÂ &lt;a href=&quot;https://github.com/kizu/bemto/blob/master/README.md#using-for-building-complex-mixins&quot;&gt;theÂ extended use-case&lt;/a&gt;&lt;nobr&gt;â€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;itÂ shows how you can use bemto toÂ create reusable andÂ &lt;nobr&gt;easy-to&lt;/nobr&gt;-use blocks.&lt;/p&gt;

    </content>
  </entry>
  <entry>
    <title>Legends and Headings</title>
    <link href="http://kizu.ru/en/fun/legends-and-headings/"/>
    <updated>2012-04-27T00:00:00+03:00</updated>
    <id>http://kizu.ru/en/fun/legends-and-headings</id>
    <content type="html">&lt;h1 id=&quot;legends-and-headings&quot;&gt;Legends andÂ Headings&lt;/h1&gt;
&lt;p&gt;One day inÂ theÂ last december IÂ tried toÂ find out what weÂ can doÂ with theÂ &lt;code&gt;legend&lt;/code&gt; element. IÂ wanted toÂ move itÂ inÂ theÂ fieldsetâ€™s frame, andÂ didnâ€™t want toÂ style itÂ out â€™cause theÂ fieldsets with legend have this special behavior: theÂ fieldsetâ€™s border gets theÂ gap forÂ the legend toÂ fit in.&lt;/p&gt;
&lt;p&gt;So, IÂ made some tricks toÂ emulate different behaviors: move theÂ legend toÂ theÂ right, center orÂ even make visually two legends inÂ one fieldset.&lt;/p&gt;
&lt;p&gt;TheÂ easiest part isÂ theÂ positioning ofÂ theÂ legend toÂ theÂ right: use theÂ &lt;code&gt;direction: rtl&lt;/code&gt; andÂ the position ofÂ theÂ legend would adjuct accordingly. AndÂ donâ€™t forget toÂ bring back theÂ &lt;code&gt;ltr&lt;/code&gt; direction onÂ theÂ child elements.&lt;/p&gt;
&lt;p&gt;ForÂ the centered andÂ the double one IÂ used aÂ hack with extra elements andÂ stretched legend. There could beÂ pseudos instead ofÂ some extra elements, but there were some bugs with them there, soÂ IÂ just used theÂ extras here. OfÂ course itâ€™s not that Â«fairÂ», but you can style itÂ soÂ itÂ would look like borders, soâ€¦ Here isÂ aÂ dabblet with those fieldsets andÂ legends:&lt;/p&gt;
&lt;p&gt;Look at the demo &lt;a href=&quot;http://kizu.ru/en/fun/legends-and-headings/#Demo_legends&quot;&gt;embedded in the post&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;AndÂ there isÂ aÂ simplier demo ofÂ theÂ headings with rulers onÂ theÂ sides. TheÂ main point isÂ toÂ use only one element andÂ toÂ make theÂ borders somewhat Â«fairÂ», soÂ ifÂ there would beÂ aÂ background, there would beÂ visual gaps. Other similar methods IÂ saw used theÂ fake background onÂ theÂ centered item toÂ cover theÂ line under it.&lt;/p&gt;
&lt;p&gt;Itâ€™s sad that you canâ€™t doÂ multiline variant using only one &lt;nobr&gt;elementâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;soÂ inÂ that case there isÂ one extra span. InÂ other cases there isÂ only theÂ header andÂ the &lt;nobr&gt;pseudosâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;andÂ itÂ must degrade gracefully. SoÂ here isÂ itâ€™s dabblet:&lt;/p&gt;
&lt;p&gt;Look at the demo &lt;a href=&quot;http://kizu.ru/en/fun/legends-and-headings/#Demo_headings&quot;&gt;embedded in the post&lt;/a&gt;.&lt;/p&gt;

    </content>
  </entry>
  <entry>
    <title>Scrolling shadows</title>
    <link href="http://kizu.ru/en/fun/shadowscroll/"/>
    <updated>2012-04-21T00:00:00+03:00</updated>
    <id>http://kizu.ru/en/fun/shadowscroll</id>
    <content type="html">&lt;h1 id=&quot;scrolling-shadows&quot;&gt;Scrolling shadows&lt;/h1&gt;
&lt;p&gt;Hereâ€™s anÂ old idea, but recreated with pure &lt;abbr&gt;CSS&lt;/abbr&gt;.&lt;/p&gt;
&lt;p&gt;Originally, IÂ had anÂ extra wrapper andÂ two extra pseudo-elements onÂ it. Later IÂ decided toÂ rewrite theÂ code andÂ toÂ use just aÂ single element (byÂ using radial gradients).&lt;/p&gt;
&lt;p&gt;While this method isÂ simple, there are some limitations: &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;theÂ background must beÂ solid&lt;ul&gt;
&lt;li&gt;however, ifÂ you&amp;#39;d try &lt;code&gt;background-attachment: fixed&lt;/code&gt;â€¦)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;there are some positioning issues&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;But inÂ most regards this method isÂ rather bulletproof. &lt;/p&gt;
&lt;p&gt;IfÂ you replace theÂ &lt;abbr&gt;CSS&lt;/abbr&gt;-gradients with simple images, this method could work inÂ IE. (ItÂ might need aÂ few more small fixes; IÂ didn&amp;#39;t check.)&lt;/p&gt;
&lt;p&gt;Enjoy!&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Update:&lt;/strong&gt; &lt;a href=&quot;https://twitter.com/leaverou&quot;&gt;Lea Verou&lt;/a&gt; updated this experiment using theÂ &lt;code&gt;background-attachment: local&lt;/code&gt;. &lt;a href=&quot;http://lea.verou.me/2012/04/background-attachment-local/&quot;&gt;Read about itÂ inÂ her post&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Look at the demo &lt;a href=&quot;http://kizu.ru/en/fun/shadowscroll/#Demo_shadowscroll&quot;&gt;embedded in the post&lt;/a&gt;.&lt;/p&gt;

    </content>
  </entry>
  <entry>
    <title>Multi-directional hover</title>
    <link href="http://kizu.ru/en/fun/multi-directional-hover/"/>
    <updated>2012-03-19T00:00:00+03:00</updated>
    <id>http://kizu.ru/en/fun/multi-directional-hover</id>
    <content type="html">&lt;h1 id=&quot;multi-directional-hover&quot;&gt;Multi-directional hover&lt;/h1&gt;
&lt;p&gt;Try toÂ hover this block from different directions&lt;/p&gt;
&lt;p&gt;Look at the demo &lt;a href=&quot;http://kizu.ru/en/fun/multi-directional-hover/#Demo_hovers&quot;&gt;embedded in the post&lt;/a&gt;.&lt;/p&gt;

    </content>
  </entry>
  <entry>
    <title>CSS3 convex polygons</title>
    <link href="http://kizu.ru/en/fun/polygons/"/>
    <updated>2011-09-18T00:00:00+03:00</updated>
    <id>http://kizu.ru/en/fun/polygons</id>
    <content type="html">&lt;h1 id=&quot;css3-convex-polygons&quot;&gt;&lt;abbr&gt;CSS&lt;/abbr&gt;3 convex polygons&lt;/h1&gt;
&lt;p&gt;Using, &lt;code&gt;overflow:hidden&lt;/code&gt; andÂ &lt;code&gt;visibility:hidden&lt;/code&gt; forÂ wrappers with &lt;code&gt;visibility:visible&lt;/code&gt; onÂ aÂ last shild, weÂ could doÂ almost any convex masks which would beÂ clickable andÂ hoverable onÂ their areas.&lt;/p&gt;
&lt;p&gt;Look at the demo &lt;a href=&quot;http://kizu.ru/en/fun/polygons/#Demo_polygons&quot;&gt;embedded in the post&lt;/a&gt;.&lt;/p&gt;

    </content>
  </entry>
  <entry>
    <title>Text-overflow emulation and gradient overflow</title>
    <link href="http://kizu.ru/en/fun/overflower/"/>
    <updated>2011-03-08T00:00:00+03:00</updated>
    <id>http://kizu.ru/en/fun/overflower</id>
    <content type="html">&lt;h1 id=&quot;text-overflow-emulation-and-gradient-overflow&quot;&gt;Text-overflow emulation andÂ gradient overflow&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;TheÂ Â«overflowÂ» effect isÂ visible only ifÂ there isÂ something toÂ hide (so, there wouldnâ€™t beÂ aÂ case when there isÂ anÂ overlayed gradient that hides aÂ part ofÂ text, that would beÂ visible whole anyway).&lt;/li&gt;
&lt;li&gt;Also, you can add aÂ &lt;code&gt;title&lt;/code&gt; attribute toÂ aÂ block, that would appear only when something isÂ hidden.&lt;/li&gt;
&lt;li&gt;You can use this method starting from theÂ IE7 (however, IÂ hadnâ€™t optimise itÂ forÂ this experiment, soÂ barely only title would beÂ visible)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Resize theÂ browserâ€™s window toÂ see theÂ switching ofÂ overflow effect.&lt;/p&gt;
&lt;p&gt;Look at the demo &lt;a href=&quot;http://kizu.ru/en/fun/overflower/#Demo_overflower&quot;&gt;embedded in the post&lt;/a&gt;.&lt;/p&gt;

    </content>
  </entry>
  <entry>
    <title>Filtering elements without JS</title>
    <link href="http://kizu.ru/en/fun/filters/"/>
    <updated>2011-02-06T00:00:00+03:00</updated>
    <id>http://kizu.ru/en/fun/filters</id>
    <content type="html">&lt;h1 id=&quot;filtering-elements-without-js&quot;&gt;Filtering elements without JS&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;Colors are just checkboxes.&lt;/li&gt;
&lt;li&gt;&lt;nobr&gt;Shapesâ€‰â€”&lt;/nobr&gt;&lt;span class=&quot;thinsp&quot;&gt;â€‰&lt;/span&gt;radiobuttons with anÂ upgrade: you can uncheck once it&amp;#39;s checked.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Just &lt;abbr&gt;CSS&lt;/abbr&gt;, noÂ JS, enjoy!&lt;/p&gt;
&lt;p&gt;Look at the demo &lt;a href=&quot;http://kizu.ru/en/fun/filters/#Demo_filters&quot;&gt;embedded in the post&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Only modern browsers supported, can beÂ emulated inÂ IE via expressions, but I&amp;#39;m lazy enough not toÂ doÂ itÂ here.&lt;/p&gt;

    </content>
  </entry>
  <entry>
    <title>Popups and dropdowns only by CSS</title>
    <link href="http://kizu.ru/en/fun/popups/"/>
    <updated>2011-02-05T00:00:00+03:00</updated>
    <id>http://kizu.ru/en/fun/popups</id>
    <content type="html">&lt;h1 id=&quot;popups-and-dropdowns-only-by-css&quot;&gt;Popups andÂ dropdowns only byÂ &lt;abbr&gt;CSS&lt;/abbr&gt;&lt;/h1&gt;
&lt;p&gt;Look at the demo &lt;a href=&quot;http://kizu.ru/en/fun/popups/#Demo_popups&quot;&gt;embedded in the post&lt;/a&gt;.&lt;/p&gt;

    </content>
  </entry>
  <entry>
    <title>Custom CSS3 controls</title>
    <link href="http://kizu.ru/en/fun/controls/"/>
    <updated>2011-02-03T00:00:00+03:00</updated>
    <id>http://kizu.ru/en/fun/controls</id>
    <content type="html">&lt;h1 id=&quot;custom-css3-controls&quot;&gt;Custom &lt;abbr&gt;CSS&lt;/abbr&gt;3 controls&lt;/h1&gt;
&lt;p&gt;Look at the demo &lt;a href=&quot;http://kizu.ru/en/fun/controls/#Demo_controls&quot;&gt;embedded in the post&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;This experiment features theÂ heavy-css-styled radio-buttons, made without any use ofÂ JS using theÂ &lt;code&gt;:checked&lt;/code&gt; pseudo-class. AndÂ with somewhat graceful degradation forÂ some old browsers.&lt;/p&gt;
&lt;p&gt;Also, there isÂ some strange non-semantic structure, inÂ which IÂ tried toÂ overcome one old &lt;a href=&quot;http://css-tricks.com/8439-webkit-sibling-bug/&quot;&gt;webkitâ€™s bug&lt;/a&gt;. Since there isÂ aÂ better solution forÂ this problem (using theÂ always-runnng animation), this experiment was useful toÂ meÂ â€™cause, you know, itâ€™s always fun toÂ overcome aÂ bug andÂ create something that works asÂ intended. InÂ theÂ further experiments I&amp;#39;d use theÂ animation bug-fix.&lt;/p&gt;
&lt;p&gt;IÂ have aÂ lot ofÂ other thoughts forÂ custom inputs, soÂ stay tuned!&lt;/p&gt;

    </content>
  </entry>
</feed>