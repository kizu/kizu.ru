<style>

.example-3 * {
  @container not style(--is-alternate: ) {
    --is-alternate: ;
    --inherited--even: var(--inherit);
    --inherited: var(--inherited--odd);
  }
  @container style(--is-alternate: ) {
    --is-alternate: initial;
    --inherited--odd: var(--inherit);
    --inherited: var(--inherited--even);
  }
}

.example-3 ul {
  --depth: calc(var(--inherited, 0) + 1);
  --inherit: var(--depth);

  display: block;
  width: fit-content;
  padding: 0;
  margin: 0 auto;
}

.example-3 li {
  padding: 0;
}
.example-3 li::before {
  content: "";
}
.example-3 li > a {
  display: block;
  padding: 1em;
  padding-block: 0.25em;
  padding-inline-start: calc(var(--depth) * 2em - 1em);
  background: oklch(93% 0.07 calc(var(--depth) * 75 - 30));
  border-radius: 1em;
  border: 1px solid transparent;
  background-clip: padding-box;
  text-decoration: none;
  color: var(--color);

  &:hover {
    border-color: oklch(30% 1 calc(var(--depth) * 75));
  }
}

</style>

<div class="example-3">

  <ul>
    <li>
      <a href="#">Menu item</a>
    </li>
    <li>
      <a href="#">Menu item</a>
      <ul>
        <li>
          <a href="#">Menu item</a>
          <ul>
            <li>
              <a href="#">Menu item</a>
            </li>
            <li>
              <a href="#">Menu item</a>
              <ul>
                <li>
                  <a href="#">Menu item</a>
                  <ul>
                    <li>
                      <a href="#">Menu item</a>
                    </li>
                    <li>
                      <a href="#">Menu item</a>
                    </li>
                  </ul>
                </li>
                <li>
                  <a href="#">Menu item</a>
                </li>
              </ul>
            </li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>

</div>
