---

categories: issues

layout: post

published: true

invisible: true

---

# Маркдауним YAML для Jekyll

Пока я всё никак не допишу какой-либо из длинных постов, попробую выложить несколько мелких заметок. Начну с небольшого трюка для Jekyll.

Для настройки метаданных (заголовок, лейаут, дата, всё такое) в Jekyll используется «YAML front matter» — описание всех этих данных в специально оформленном коде, который обязательно должен идти в начале файла. Вообще, Jekyll «видит» только те страницы, у которых этот заголовок есть, потому это — довольно важная часть.

Чаще всего такой заголовок будет выглядеть как-то так:

    ---
    layout: docs
    title: Resources
    prev_section: sites
    ---

Казалось бы, всё ок. Но! Раз я использую Jekyll на Гитхабе, мой перфекционизм хочет, чтобы исходник страницы с таким заголовком выглядел бы идеально. А Гитхаб по умолчанию показывает не исходный код `.md`-файлов, а сразу рендерит их. Вот, например, как выглядит код выше, отрендеренный в маркдауне:

![Плохой код][bad]

Не очень читаемо, правда? И последняя строчка, внезапно, становится заголовком (если знать синтаксис маркдауна, то, конечно, не внезапно) — это вряд ли то, чего мы хотели.

Всё это дело легко исправить: достаточно изменить стиль написания YAML-заголовков. Нужно просто добавить воды, то есть пустых строк. Вот так:

    ---
    
    layout: docs
    
    title: Resources
    
    prev_section: sites
    
    ---

Такой YAML-заголовок будет уже выглядеть приемлимо:

![Хороший код][good]

Вместо заголовка мы получаем хорошо отделённый от основного контента поста YAML-заголовок, каждая строка которого превращается в параграф.

Так как в постах чаще всего бывает не так много метаданных, лишние строки не особо раздувают код. Да и, на мой взгляд, подобный стиль написани гораздо читабельнее, так что я не вижу причин почему бы всем всегда так не писать YAML-заголовки.

Я лишь жалею, что синтаксис YAML слишком строг и нельзя добавить в начало каждой строки или отступов, чтобы весь этот блок выглядел как кусок кода, или дефисов, чтобы он выглядел как список. Но если кто придумает как ещё можно улучшить читаемость кода YAML-заголовков — не стесняйтесь, пишите issues.



[bad]: http://img-fotki.yandex.ru/get/6430/1076905.1/0_9789a_239b2fc2_orig.png
[good]: http://img-fotki.yandex.ru/get/5625/1076905.1/0_97899_16bfcbbf_orig.png